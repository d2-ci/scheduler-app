{"version":3,"sources":["D2App/components/Temporary/SwitchIcon.module.css","D2App/components/Temporary/LinkButton.module.css","D2App/components/Temporary/RadioIcons.module.css","D2App/pages/JobList/JobList.module.css","D2App/components/FormErrorBox/FormErrorBox.module.css","D2App/components/FormFields/ParameterFields.module.css","D2App/components/Forms/JobAddForm.module.css","D2App/components/Forms/JobEditForm.module.css","D2App/components/JobDetails/JobDetails.module.css","D2App/pages/JobEdit/JobEdit.module.css","D2App/pages/JobView/JobView.module.css","D2App/pages/JobAdd/JobAdd.module.css","D2App/components/AuthWall/AuthWall.module.css","D2App/components/PageWrapper/PageWrapper.module.css","D2App/components/Store/StoreContext.js","D2App/components/Store/Store.js","D2App/components/Store/hooks.js","D2App/services/server-translations/analyticsTableTypes.js","D2App/services/server-translations/jobTypesMap.js","D2App/services/server-translations/jobStatusMap.js","D2App/components/Temporary/SwitchIcon.js","D2App/components/Temporary/Switch.js","D2App/components/Temporary/shared/helpers/createBlurHandler.js","D2App/components/Temporary/shared/helpers/createFocusHandler.js","D2App/components/Temporary/shared/helpers/createChangeHandler.js","D2App/components/Temporary/shared/helpers/createToggleChangeHandler.js","D2App/components/Temporary/shared/helpers/hasError.js","D2App/components/Temporary/shared/helpers/getValidationText.js","D2App/components/Temporary/shared/helpers/isValid.js","D2App/components/Temporary/shared/propTypes.js","D2App/components/Temporary/Required.js","D2App/components/Temporary/SwitchField.js","D2App/components/Temporary/SwitchFieldFF.js","D2App/components/Temporary/LinkButton.js","D2App/components/Temporary/RadioIcons.js","D2App/components/Temporary/Radio.js","D2App/components/Switches/ToggleJobSwitch.js","D2App/services/history/history.js","D2App/services/history/index.js","D2App/components/JobTable/EditJobAction.js","D2App/components/JobTable/ViewJobAction.js","D2App/components/Modal/CronPresetModal.js","D2App/components/Modal/DeleteJobModal.js","D2App/components/Modal/DiscardFormModal.js","D2App/components/Modal/RunJobModal.js","D2App/components/JobTable/RunJobAction.js","D2App/components/JobTable/DeleteJobAction.js","D2App/components/JobTable/Actions.js","D2App/components/JobTable/Status.js","D2App/components/JobTable/NextRun.js","D2App/services/validators/validate-cron.js","D2App/services/validators/required-cron.js","D2App/services/translate-cron/translate-cron.js","D2App/services/translate-cron/index.js","D2App/components/JobTable/Schedule.js","D2App/components/JobTable/JobTableRow.js","D2App/components/JobTable/JobTable.js","D2App/pages/JobList/JobList.js","D2App/pages/JobList/JobListContainer.js","D2App/components/Buttons/CronPresetButton.js","D2App/components/Buttons/DeleteJobButton.js","D2App/components/Buttons/DiscardFormButton.js","D2App/services/format-error/format-error.js","D2App/services/format-error/index.js","D2App/hooks/jobs/use-submit-job.js","D2App/hooks/jobs/use-update-job.js","D2App/components/FormErrorBox/FormErrorBox.js","D2App/components/FormFields/JobNameField.js","D2App/components/FormFields/JobTypeField.js","D2App/components/FormFields/formatters.js","D2App/components/FormFields/SkipTableTypesField.js","D2App/components/FormFields/LabeledOptionsField.js","D2App/components/FormFields/ParameterFields.js","D2App/components/FormFields/CronField.js","D2App/components/FormFields/DelayField.js","D2App/components/FormFields/ScheduleField.js","D2App/components/FormFields/index.js","D2App/components/Forms/JobAddForm.js","D2App/components/Forms/JobAddFormContainer.js","D2App/components/Forms/JobEditForm.js","D2App/components/Forms/JobEditFormContainer.js","D2App/components/JobDetails/JobDetails.js","D2App/pages/JobEdit/JobEdit.js","D2App/pages/JobEdit/JobEditContainer.js","D2App/pages/JobView/JobView.js","D2App/pages/JobAdd/JobAdd.js","D2App/pages/JobAdd/JobAddContainer.js","D2App/components/Routes/Routes.js","D2App/components/AuthWall/AuthWall.js","D2App/components/AuthWall/selectors.js","D2App/components/PageWrapper/PageWrapper.js","D2App/locales/index.js","D2App/components/App/App.js"],"names":["module","exports","StoreContext","createContext","jobs","jobTypes","parameterOptions","refetchJobs","Error","jobsQuery","resource","params","fields","paging","jobTypesQuery","optionsQuery","skipTableTypes","validationRuleGroups","pushAnalysis","predictors","predictorGroups","node","PropTypes","Store","children","jobFilterState","useState","showSystemJobsState","jobsFetch","useDataQuery","jobTypesFetch","optionsFetch","loading","React","createElement","Layer","CenteredContent","CircularLoader","error","jobConfigurations","data","Provider","value","refetch","jobFilter","showSystemJobs","useAllJobs","useContext","useAllParameterOptions","useAllJobTypes","useRefetchJobs","useJobFilter","useShowSystemJobs","useJobListJobs","filter","job","displayName","toLowerCase","includes","configurable","useJob","id","find","useJobType","jobType","useJobTypeParameters","selectedJobType","jobParameters","useParameterOptions","parameter","analyticsTableTypes","DATA_VALUE","i18n","t","COMPLETENESS","COMPLETENESS_TARGET","ORG_UNIT_TARGET","EVENT","ENROLLMENT","VALIDATION_RESULT","jobTypesMap","ANALYTICS_TABLE","CONTINUOUS_ANALYTICS_TABLE","CREDENTIALS_EXPIRY_ALERT","DATA_INTEGRITY","DATA_SET_NOTIFICATION","DATA_STATISTICS","DATA_SYNC","EVENT_PROGRAMS_DATA_SYNC","FILE_RESOURCE_CLEANUP","META_DATA_SYNC","MONITORING","PREDICTOR","PROGRAM_NOTIFICATIONS","PUSH_ANALYSIS","REMOVE_EXPIRED_RESERVED_VALUES","RESOURCE_TABLE","SEND_SCHEDULED_MESSAGE","TRACKER_PROGRAMS_DATA_SYNC","VALIDATION_RESULTS_NOTIFICATION","DISABLE_INACTIVE_USERS","jobStatusMap","COMPLETED","DISABLED","DONE","FAILED","NOT_STARTED","RUNNING","SCHEDULED","STOPPED","SwitchIcon","className","viewBox","xmlns","cx","styles","svg","d","fill","_defineProperty","obj","key","Object","defineProperty","enumerable","writable","Switch","Component","constructor","args","super","this","createRef","e","props","onChange","createHandlerPayload","onBlur","onFocus","componentDidMount","initialFocus","ref","current","focus","name","checked","render","disabled","label","tabIndex","valid","warning","dense","dataTest","ariaLabel","classes","_JSXStyle","dynamic","colors","grey900","theme","blue600","type","role","handleChange","handleFocus","handleBlur","SwitchRegular","concat","createBlurHandler","input","payload","event","createFocusHandler","Set","createToggleChangeHandler","hasError","meta","touched","invalid","getValidationText","validationText","submitError","isValid","showValidStatus","propTypes","arrayOf","shape","string","isRequired","func","any","bool","validating","Required","spacers","dp4","AddRequired","required","Fragment","SwitchField","helpText","Field","defaultProps","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","SwitchFieldFF","rest","LinkButton","small","Link","linkButton","RadioRegular","height","width","circle","cy","r","RadioDense","Radio","mutation","partial","enabled","ToggleJobSwitch","toggleJob","useDataMutation","hooks","then","history","createHashHistory","EditJobAction","MenuItem","onClick","push","ViewJobAction","cronPresets","CronPresetModal","setCron","hideModal","currentPreset","setCurrentPreset","Modal","open","onClose","ModalTitle","ModalContent","map","preset","ModalActions","ButtonStrip","end","Button","secondary","primary","DeleteJobModal","onSuccess","deleteJob","destructive","DiscardFormModal","RunJobModal","engine","useDataEngine","query","RunJobAction","showModal","setShowModal","DeleteJobAction","Actions","DropdownButton","component","FlyoutMenu","Status","status","Tag","neutral","negative","positive","NextRun","nextExecutionTime","now","moment","Date","nextRun","utc","isSameOrBefore","to","WEEKDAYS","MONTHS","isValidNumber","number","x","y","isWildcard","field","isUndefined","isValidWithinRange","range","boundaries","split","isValidNumberRange","fraction","components","isValidFraction","isValidMonthField","months","firstMonth","secondMonth","m","indexOf","undefined","isAlphabeticMonth","isValidWeekdayField","weekdays","firstDay","secondDay","c","isAlphabeticWeekday","validateCron","exp","trim","isValidFields","isValidMinuteField","isValidHourField","isValidDayField","requiredCron","translateCron","cron","locale","language","cronstrue","toString","Schedule","cronExpression","schedulingType","delay","JobTableRow","jobStatus","TableRow","TableCell","object","JobTable","Table","TableHead","TableRowHead","TableCellHead","TableBody","JobList","setShowSystemJobs","setJobFilter","header","headerTitle","href","headerLink","rel","headerLinkIcon","IconInfo16","Card","controlContainer","InputField","controlRight","Checkbox","JobListContainer","CronPresetButton","DeleteJobButton","DiscardFormButton","shouldConfirm","FORM_ERROR","FinalForm","formatError","details","response","validationErrors","genericErrors","errorReports","forEach","report","errorProperty","message","useSubmitJob","mutate","variables","catch","useUpdateJob","array","FormErrorBox","NoticeBox","title","list","ReactFinalForm","VALIDATOR","composeValidators","hasValue","JobNameField","InputFieldFF","validate","FIELD_NAME","JobTypeField","options","SingleSelectFieldFF","formatToString","SkipTableTypesField","parameterName","MultiSelectField","translatedOptions","option","MultiSelectFieldFF","LabeledOptionsField","labeledOptions","ParameterFields","parameters","parameterComponents","fieldName","klass","parameterComponent","Box","marginTop","format","useFormState","useForm","CronField","form","values","subscription","change","integer","createNumberRange","DelayField","lowerbound","upperbound","ScheduleField","fieldNames","JOB_TYPE","JobAddForm","handleSubmit","pristine","submitting","hasSubmitErrors","setIsPristine","subscribe","useEffect","Spinner","onSubmit","maxWidth","formButtonContainer","icon","saveButton","Form","JobAddFormContainer","submitJob","destroyOnUnregister","JobEditForm","deleteButton","initialFields","JobEditFormContainer","useParams","updateJob","initialValues","reduce","filtered","JobDetails","created","lastExecutedStatus","lastExecuted","createdFromNow","from","translatedStatus","lastRunFromNow","wrapper","nsSeparator","JobEdit","isPristine","pageHeader","pageHeaderButton","pageHeaderTitle","card","cardHeader","cardHeaderTitle","cardHeaderLink","cardHeaderInfo","jobDetails","JobEditContainer","JobView","SingleSelectField","selected","SingleSelectOption","JobAdd","JobAddContainer","Routes","Router","Route","exact","path","me","AuthWall","authorities","getAuthorized","noticeBoxWrapper","PageWrapper","namespace","addResources","arTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","ruTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uzTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","App","CssVariables"],"mappings":"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","file":"static/js/app.d44ee8b0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"svg\":\"SwitchIcon_svg__1uzBk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"linkButton\":\"LinkButton_linkButton__1gVyb\",\"small\":\"LinkButton_small__pn2bP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"svg\":\"RadioIcons_svg__zWPlk\",\"circle\":\"RadioIcons_circle__3jD0c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"JobList_header__23tFt\",\"headerTitle\":\"JobList_headerTitle__21D__\",\"headerLink\":\"JobList_headerLink__2zepi\",\"headerLinkIcon\":\"JobList_headerLinkIcon__XdfBB\",\"controlContainer\":\"JobList_controlContainer__3Yzj_\",\"controlRight\":\"JobList_controlRight__38lfB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"FormErrorBox_list__3BejY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerTitle\":\"ParameterFields_headerTitle__IBF76\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formButtonContainer\":\"JobAddForm_formButtonContainer__1MLSp\",\"saveButton\":\"JobAddForm_saveButton__RfxZ9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formButtonContainer\":\"JobEditForm_formButtonContainer__2b6Fi\",\"deleteButton\":\"JobEditForm_deleteButton__VQxBE\",\"saveButton\":\"JobEditForm_saveButton__278Ab\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"JobDetails_wrapper__1-YkO\",\"title\":\"JobDetails_title__1Cht7\",\"details\":\"JobDetails_details__2HITJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageHeader\":\"JobEdit_pageHeader__3Fywp\",\"pageHeaderButton\":\"JobEdit_pageHeaderButton__29yjJ\",\"pageHeaderTitle\":\"JobEdit_pageHeaderTitle__jZrIG\",\"card\":\"JobEdit_card__2QqEg\",\"cardHeader\":\"JobEdit_cardHeader__Mv_cj\",\"cardHeaderTitle\":\"JobEdit_cardHeaderTitle__29Y64\",\"cardHeaderInfo\":\"JobEdit_cardHeaderInfo__3VWZt\",\"cardHeaderLink\":\"JobEdit_cardHeaderLink__2frj7\",\"jobDetails\":\"JobEdit_jobDetails__194v-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageHeader\":\"JobView_pageHeader__3d3IR\",\"pageHeaderButton\":\"JobView_pageHeaderButton__2VF9Z\",\"pageHeaderTitle\":\"JobView_pageHeaderTitle__3wHyg\",\"card\":\"JobView_card__3LlD0\",\"cardHeader\":\"JobView_cardHeader__3v0pX\",\"cardHeaderTitle\":\"JobView_cardHeaderTitle__tPEnV\",\"cardHeaderInfo\":\"JobView_cardHeaderInfo__j1GsD\",\"cardHeaderLink\":\"JobView_cardHeaderLink__86M36\",\"jobDetails\":\"JobView_jobDetails__3cu4z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageHeader\":\"JobAdd_pageHeader__2NZzc\",\"pageHeaderButton\":\"JobAdd_pageHeaderButton__Xg_R9\",\"pageHeaderTitle\":\"JobAdd_pageHeaderTitle__1RMl0\",\"card\":\"JobAdd_card__1HH6H\",\"cardHeader\":\"JobAdd_cardHeader__1D3sS\",\"cardHeaderTitle\":\"JobAdd_cardHeaderTitle__2TG9a\",\"cardHeaderInfo\":\"JobAdd_cardHeaderInfo__vq_Y1\",\"cardHeaderLink\":\"JobAdd_cardHeaderLink__2CzPt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noticeBoxWrapper\":\"AuthWall_noticeBoxWrapper__1ums5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"PageWrapper_wrapper__t-CJy\"};","import { createContext } from 'react';\nconst StoreContext = createContext({\n  jobs: {},\n  jobTypes: {},\n  parameterOptions: {},\n  refetchJobs: () => {\n    throw new Error('Store context needs a valid provider');\n  }\n});\nexport default StoreContext;","import React, { useState } from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { CircularLoader, Layer, CenteredContent } from '@dhis2/ui';\nimport { useDataQuery } from '@dhis2/app-runtime';\nimport StoreContext from './StoreContext';\nconst jobsQuery = {\n  jobs: {\n    resource: 'jobConfigurations',\n    params: {\n      fields: '*',\n      paging: false\n    }\n  }\n};\nconst jobTypesQuery = {\n  jobTypes: {\n    resource: 'jobConfigurations/jobTypes',\n    params: {\n      fields: '*',\n      paging: false\n    }\n  }\n};\nconst optionsQuery = {\n  // Used by the ANALYTICS_TABLE and CONTINUOUS_ANALYTICS_TABLE job types\n  skipTableTypes: {\n    resource: 'analytics/tableTypes'\n  },\n  // Used by the MONITORING job type\n  validationRuleGroups: {\n    resource: 'validationRuleGroups',\n    params: {\n      paging: false\n    }\n  },\n  // Used by the PUSH_ANALYSIS job type\n  pushAnalysis: {\n    resource: 'pushAnalysis',\n    params: {\n      paging: false\n    }\n  },\n  // Used by the PREDICTOR job type\n  predictors: {\n    resource: 'predictors',\n    params: {\n      paging: false\n    }\n  },\n  predictorGroups: {\n    resource: 'predictorGroups',\n    params: {\n      paging: false\n    }\n  }\n};\n\nconst Store = ({\n  children\n}) => {\n  // State that should persist after a refetch\n  const jobFilterState = useState('');\n  const showSystemJobsState = useState(false);\n  const jobsFetch = useDataQuery(jobsQuery);\n  const jobTypesFetch = useDataQuery(jobTypesQuery);\n  const optionsFetch = useDataQuery(optionsQuery);\n  const loading = jobsFetch.loading || jobTypesFetch.loading || optionsFetch.loading;\n\n  if (loading) {\n    return React.createElement(Layer, null, React.createElement(CenteredContent, null, React.createElement(CircularLoader, null)));\n  }\n\n  const error = jobsFetch.error || jobTypesFetch.error || optionsFetch.error;\n\n  if (error) {\n    /**\n     * The app can't continue if this fails, because it doesn't\n     * have any data, so throw the error.\n     */\n    throw error;\n  }\n\n  const {\n    jobConfigurations: jobs\n  } = jobsFetch.data.jobs;\n  const {\n    jobTypes\n  } = jobTypesFetch.data.jobTypes;\n  const {\n    skipTableTypes,\n    validationRuleGroups: {\n      validationRuleGroups\n    },\n    pushAnalysis: {\n      pushAnalysis\n    },\n    predictors: {\n      predictors\n    },\n    predictorGroups: {\n      predictorGroups\n    }\n  } = optionsFetch.data;\n  const parameterOptions = {\n    skipTableTypes,\n    validationRuleGroups,\n    pushAnalysis,\n    predictors,\n    predictorGroups\n  };\n  return React.createElement(StoreContext.Provider, {\n    value: {\n      jobs,\n      jobTypes,\n      parameterOptions,\n      refetchJobs: jobsFetch.refetch,\n      jobFilter: jobFilterState,\n      showSystemJobs: showSystemJobsState\n    }\n  }, children);\n};\n\nconst {\n  node\n} = PropTypes;\nStore.propTypes = {\n  children: node.isRequired\n};\nexport default Store;","import { useContext } from 'react';\nimport StoreContext from './StoreContext';\nexport const useAllJobs = () => {\n  const store = useContext(StoreContext);\n  return store.jobs;\n};\nexport const useAllParameterOptions = () => {\n  const store = useContext(StoreContext);\n  return store.parameterOptions;\n};\nexport const useAllJobTypes = () => {\n  const store = useContext(StoreContext);\n  return store.jobTypes;\n};\nexport const useRefetchJobs = () => {\n  const store = useContext(StoreContext);\n  return store.refetchJobs;\n};\n/**\n * The state for the job filter and showing system\n * jobs is used in the job list, but kept in the\n * store since it has to persist after a refetch.\n */\n\nexport const useJobFilter = () => {\n  const store = useContext(StoreContext);\n  return store.jobFilter;\n};\nexport const useShowSystemJobs = () => {\n  const store = useContext(StoreContext);\n  return store.showSystemJobs;\n};\n/**\n * This hook returns the list of jobs that's shown in the\n * job list route. The list is filtered by the job filter\n * string and the show system jobs toggle from the store\n * state.\n */\n\nexport const useJobListJobs = () => {\n  const [jobFilter] = useJobFilter();\n  const [showSystemJobs] = useShowSystemJobs();\n  const jobs = useAllJobs(); // Filter jobs by the current jobFilter\n\n  const applyJobFilter = job => job.displayName.toLowerCase().includes(jobFilter.toLowerCase()); // Filter jobs depending on the current showSystemJobs\n\n\n  const applyShowSystemJobs = job => // Jobs that are configurable are user jobs\n  showSystemJobs ? true : job.configurable;\n\n  return jobs.filter(applyJobFilter).filter(applyShowSystemJobs);\n}; // Finds a job by id\n\nexport const useJob = id => {\n  const jobs = useAllJobs();\n  return jobs.find(job => job.id === id);\n}; // Finds a jobType by the jobType string\n\nexport const useJobType = jobType => {\n  const jobTypes = useAllJobTypes();\n  return jobTypes.find(job => job.jobType === jobType);\n}; // Returns an array with all parameters for a certain jobType\n\nexport const useJobTypeParameters = jobType => {\n  const selectedJobType = useJobType(jobType);\n  const hasParameters = 'jobParameters' in selectedJobType;\n\n  if (!hasParameters) {\n    return [];\n  }\n\n  return selectedJobType.jobParameters;\n}; // Returns the parameter options for a given parameter\n\nexport const useParameterOptions = parameter => {\n  const parameterOptions = useAllParameterOptions();\n  return parameterOptions[parameter];\n};","import i18n from '@dhis2/d2-i18n';\nconst analyticsTableTypes = {\n  DATA_VALUE: i18n.t('Data value'),\n  COMPLETENESS: i18n.t('Completeness'),\n  COMPLETENESS_TARGET: i18n.t('Completeness target'),\n  ORG_UNIT_TARGET: i18n.t('Org unit target'),\n  EVENT: i18n.t('Event'),\n  ENROLLMENT: i18n.t('Enrollment'),\n  VALIDATION_RESULT: i18n.t('Validation result')\n};\nexport default analyticsTableTypes;","import i18n from '@dhis2/d2-i18n';\nconst jobTypesMap = {\n  ANALYTICS_TABLE: i18n.t('Analytics table'),\n  CONTINUOUS_ANALYTICS_TABLE: i18n.t('Continuous analytics table'),\n  CREDENTIALS_EXPIRY_ALERT: i18n.t('Credentials expiry alert'),\n  DATA_INTEGRITY: i18n.t('Data integrity'),\n  DATA_SET_NOTIFICATION: i18n.t('Dataset notification'),\n  DATA_STATISTICS: i18n.t('Data statistics'),\n  DATA_SYNC: i18n.t('Data synchronization'),\n  EVENT_PROGRAMS_DATA_SYNC: i18n.t('Event programs data sync'),\n  FILE_RESOURCE_CLEANUP: i18n.t('File resource clean up'),\n  META_DATA_SYNC: i18n.t('Metadata synchronization'),\n  MONITORING: i18n.t('Monitoring'),\n  PREDICTOR: i18n.t('Predictor'),\n  PROGRAM_NOTIFICATIONS: i18n.t('Program notifications'),\n  PUSH_ANALYSIS: i18n.t('Push analysis'),\n  REMOVE_EXPIRED_RESERVED_VALUES: i18n.t('Remove expired reserved values'),\n  RESOURCE_TABLE: i18n.t('Resource table'),\n  SEND_SCHEDULED_MESSAGE: i18n.t('Send scheduled message'),\n  TRACKER_PROGRAMS_DATA_SYNC: i18n.t('Tracker programs data sync'),\n  VALIDATION_RESULTS_NOTIFICATION: i18n.t('Validation results notification'),\n  DISABLE_INACTIVE_USERS: i18n.t('Disable inactive users')\n};\nexport default jobTypesMap;","import i18n from '@dhis2/d2-i18n';\nconst jobStatusMap = {\n  COMPLETED: i18n.t('Completed'),\n  DISABLED: i18n.t('Disabled'),\n  DONE: i18n.t('Done'),\n  FAILED: i18n.t('Failed'),\n  NOT_STARTED: i18n.t('Not started'),\n  RUNNING: i18n.t('Running'),\n  SCHEDULED: i18n.t('Scheduled'),\n  STOPPED: i18n.t('Stopped')\n};\nexport default jobStatusMap;","import React from 'react';\nimport cx from 'classnames';\nimport { PropTypes } from '@dhis2/prop-types';\nimport styles from './SwitchIcon.module.css';\n\nfunction SwitchIcon({\n  className\n}) {\n  return React.createElement(\"svg\", {\n    viewBox: \"0 0 42 22\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: cx(styles.svg, className)\n  }, React.createElement(\"path\", {\n    d: \"M0,11 L0,11 C0,4.92486775 4.92076837,0 11.0075657,0 L30.9924343,0 C37.071745,0 42,4.923532 42,11 L42,11 C42,17.0751322 37.0792316,22 30.9924343,22 L11.0075657,22 C4.92825504,22 0,17.0791222 0,11 L0,11 Z\",\n    className: \"background\",\n    fill: \"red\"\n  }), React.createElement(\"path\", {\n    d: \"M30.9924343,0 C36.975248,0 41.8432574,4.76846989 41.99629,10.7115309 L42,11 C42,17.0751322 37.0792316,22 30.9924343,22 L11.0075657,22 C5.02475203,22 0.156742552,17.2341007 0.00370995454,11.2885915 L0,11 C0,4.92486775 4.92076837,0 11.0075657,0 L30.9924343,0 Z M30.9924343,1 L11.0075657,1 C5.47559009,1 0.99991738,5.47461611 0.99991738,10.9871457 L1.00337887,11.2628608 C1.14271146,16.6761076 5.5768313,21 11.0075657,21 L30.9924343,21 C36.5244099,21 41.0000827,16.5253839 41.0000827,11.0128598 L40.9966214,10.7372722 C40.8572703,5.32553352 36.4222391,1 30.9924343,1 Z\",\n    className: \"border\"\n  }), React.createElement(\"path\", {\n    d: \"M27.7071068,7.29289322 L30,9.585 L32.2928932,7.29289322 C32.6533772,6.93240926 33.2206082,6.90467972 33.6128994,7.20970461 L33.7071068,7.29289322 C34.0976311,7.68341751 34.0976311,8.31658249 33.7071068,8.70710678 L33.7071068,8.70710678 L31.415,11 L33.7071068,13.2928932 C34.0976311,13.6834175 34.0976311,14.3165825 33.7071068,14.7071068 C33.3165825,15.0976311 32.6834175,15.0976311 32.2928932,14.7071068 L30,12.415 L27.7071068,14.7071068 C27.3466228,15.0675907 26.7793918,15.0953203 26.3871006,14.7902954 L26.2928932,14.7071068 C25.9023689,14.3165825 25.9023689,13.6834175 26.2928932,13.2928932 L26.2928932,13.2928932 L28.585,11 L26.2928932,8.70710678 C25.9023689,8.31658249 25.9023689,7.68341751 26.2928932,7.29289322 C26.6834175,6.90236893 27.3165825,6.90236893 27.7071068,7.29289322 Z\",\n    className: \"cross\",\n    fill: \"#FFFFFF\"\n  }), React.createElement(\"path\", {\n    d: \"M7.74451387,10.0285252 C7.39595738,10.1198564 7.12375034,10.3923519 7.03251575,10.7412777 C6.94128115,11.0902035 7.04521722,11.4612586 7.30437605,11.7118278 L10.2982384,14.7078028 C10.6875399,15.0973991 11.3185977,15.0973991 11.7078992,14.7078028 L16.695624,8.71585285 C16.9547828,8.46528367 17.0587189,8.09422851 16.9674843,7.74530271 C16.8762497,7.39637691 16.6040426,7.12388146 16.2554861,7.0325502 C15.9069296,6.94121893 15.5362672,7.04526513 15.2859632,7.30469855 L11.0030688,12.5910713 L8.71403676,10.3006735 C8.46373279,10.0412401 8.09307036,9.9371939 7.74451387,10.0285252 Z\",\n    className: \"checkmark\"\n  }), React.createElement(\"path\", {\n    d: \"M11,20 C15.9705627,20 20,15.9705627 20,11 C20,6.02943725 15.9705627,2 11,2 C6.02943725,2 2,6.02943725 2,11 C2,15.9705627 6.02943725,20 11,20 Z\",\n    className: \"handle handle-unchecked\"\n  }), React.createElement(\"path\", {\n    d: \"M31,20 C35.9705627,20 40,15.9705627 40,11 C40,6.02943725 35.9705627,2 31,2 C26.0294373,2 22,6.02943725 22,11 C22,15.9705627 26.0294373,20 31,20 Z\",\n    className: \"handle handle-checked\"\n  }));\n}\n\nSwitchIcon.propTypes = {\n  className: PropTypes.string\n};\nexport default SwitchIcon;","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { colors, theme, sharedPropTypes } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component, createRef } from 'react';\nimport SwitchRegular from './SwitchIcon';\n\nclass Switch extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ref\", createRef());\n\n    _defineProperty(this, \"handleChange\", e => {\n      if (this.props.onChange) {\n        this.props.onChange(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleBlur\", e => {\n      if (this.props.onBlur) {\n        this.props.onBlur(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleFocus\", e => {\n      if (this.props.onFocus) {\n        this.props.onFocus(this.createHandlerPayload(), e);\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.initialFocus) {\n      this.ref.current.focus();\n    }\n  }\n\n  createHandlerPayload() {\n    return {\n      value: this.props.value,\n      name: this.props.name,\n      checked: !this.props.checked\n    };\n  }\n\n  render() {\n    const {\n      checked = false,\n      className,\n      disabled,\n      error,\n      label,\n      name,\n      tabIndex,\n      valid,\n      value,\n      warning,\n      dense,\n      dataTest,\n      ariaLabel\n    } = this.props;\n    const classes = cx({\n      checked,\n      disabled,\n      valid,\n      error,\n      warning,\n      dense\n    });\n    return React.createElement(\"label\", {\n      \"data-test\": dataTest,\n      className: _JSXStyle.dynamic([[\"3159185573\", [colors.grey900, theme.disabled, colors.blue600]]]) + \" \" + (cx(className, {\n        disabled,\n        dense\n      }) || \"\")\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      ref: this.ref,\n      role: \"switch\",\n      name: name,\n      value: value,\n      checked: checked,\n      disabled: disabled,\n      tabIndex: tabIndex,\n      onChange: this.handleChange,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      \"aria-label\": ariaLabel,\n      className: _JSXStyle.dynamic([[\"3159185573\", [colors.grey900, theme.disabled, colors.blue600]]])\n    }), React.createElement(\"div\", {\n      className: _JSXStyle.dynamic([[\"3159185573\", [colors.grey900, theme.disabled, colors.blue600]]]) + \" \" + (cx('icon', {\n        dense\n      }) || \"\")\n    }, React.createElement(SwitchRegular, {\n      className: classes\n    })), label, React.createElement(_JSXStyle, {\n      id: \"3159185573\",\n      dynamic: [colors.grey900, theme.disabled, colors.blue600]\n    }, [\"label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;cursor:pointer;color:\".concat(colors.grey900, \";font-size:16px;line-height:20px;}\"), \"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}\", \"label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:\".concat(theme.disabled, \";}\"), \"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:35px;margin-left:3px;}\", \"label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:27px;}\", \".icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:5px;border:2px solid transparent;padding:1px;border-radius:14px;}\", \"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-right:3px;border-radius:12px;}\", \"input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{border-color:\".concat(colors.blue600, \";}\")]));\n  }\n\n}\n\nSwitch.propTypes = {\n  ariaLabel: PropTypes.string,\n  checked: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  initialFocus: PropTypes.bool,\n  label: PropTypes.node,\n  name: PropTypes.string,\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  value: PropTypes.string,\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n};\nexport default Switch;","const createBlurHandler = (input, onBlur) => (payload, event) => {\n  input.onBlur(event);\n\n  if (onBlur && typeof onBlur === 'function') {\n    onBlur(payload, event);\n  }\n};\n\nexport { createBlurHandler };","const createFocusHandler = (input, onFocus) => (payload, event) => {\n  input.onFocus(event);\n\n  if (onFocus && typeof onFocus === 'function') {\n    onFocus(payload, event);\n  }\n};\n\nexport { createFocusHandler };","const PRIMITIVE_TYPES = new Set(['string', 'number', 'boolean']);\n\nconst createChangeHandler = ({\n  onChange\n}) => payload => {\n  if (payload && 'value' in payload) {\n    // ui-core event signature\n    onChange(payload.value);\n  } else if (payload && payload.target && 'value' in payload.target) {\n    // synthetic event\n    onChange(payload.target.value);\n  } else if (PRIMITIVE_TYPES.has(typeof payload)) {\n    // directly usable value\n    onChange(payload);\n  } else {\n    // ¯\\_(ツ)_/¯\n    throw new Error('Could not process event payload');\n  }\n};\n\nexport { createChangeHandler };","const createToggleChangeHandler = (input, onChange) => (payload, event) => {\n  input.onChange(event);\n\n  if (onChange && typeof onChange === 'function') {\n    onChange(payload, event);\n  }\n};\n\nexport { createToggleChangeHandler };","const hasError = (meta, error) => error || meta.touched && meta.invalid;\n\nexport { hasError };","import { hasError } from './hasError.js';\n\nconst getValidationText = (meta, validationText, error) => {\n  if (validationText) {\n    return validationText;\n  }\n\n  if (hasError(meta, error)) {\n    if (meta.error) {\n      return meta.error;\n    }\n\n    if (meta.submitError) {\n      return meta.submitError;\n    }\n  }\n\n  return '';\n};\n\nexport { getValidationText };","const isValid = (meta, valid, showValidStatus) => valid || showValidStatus && meta.touched && meta.valid;\n\nexport { isValid };","import propTypes from 'prop-types';\nconst toggleGroupOptionsProp = propTypes.arrayOf(propTypes.shape({\n  label: propTypes.string.isRequired,\n  value: propTypes.string.isRequired\n}));\nconst inputPropType = propTypes.shape({\n  name: propTypes.string.isRequired,\n  onChange: propTypes.func.isRequired,\n  value: propTypes.any,\n  onBlur: propTypes.func,\n  onFocus: propTypes.func\n});\nconst inputArgType = {\n  table: {\n    type: {\n      summary: '{ name: string (required), onChange: func (required), value: any, onBlur: func, onFocus: func }'\n    }\n  }\n};\nconst metaPropType = propTypes.shape({\n  error: propTypes.string,\n  invalid: propTypes.bool,\n  touched: propTypes.bool,\n  valid: propTypes.bool,\n  validating: propTypes.bool\n});\nconst metaArgType = {\n  table: {\n    type: {\n      summary: '{ error: string, invalid: bool, touched: bool, valid: bool, validating: bool }'\n    }\n  }\n};\nexport { toggleGroupOptionsProp, inputPropType, inputArgType, metaPropType, metaArgType };","import _JSXStyle from \"styled-jsx/style\";\nimport { PropTypes } from '@dhis2/prop-types';\nimport { spacers } from '@dhis2/ui-constants';\nimport React from 'react';\n\nconst Required = ({\n  dataTest\n}) => React.createElement(\"span\", {\n  \"data-test\": dataTest,\n  className: _JSXStyle.dynamic([[\"149033372\", [spacers.dp4]]])\n}, \"*\", React.createElement(_JSXStyle, {\n  id: \"149033372\",\n  dynamic: [spacers.dp4]\n}, [\"span.__jsx-style-dynamic-selector{padding-left:\".concat(spacers.dp4, \";}\")]));\n\nRequired.propTypes = {\n  dataTest: PropTypes.string.isRequired\n};\nexport default Required;","import { sharedPropTypes } from '@dhis2/ui-constants';\nimport { Field } from '@dhis2/ui-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Required from './Required';\nimport Switch from './Switch';\n\nconst AddRequired = ({\n  label,\n  required,\n  dataTest\n}) => React.createElement(React.Fragment, null, label, required && React.createElement(Required, {\n  dataTest: \"\".concat(dataTest, \"-required\")\n}));\n\nAddRequired.propTypes = {\n  dataTest: PropTypes.string,\n  label: PropTypes.node,\n  required: PropTypes.bool\n};\n\nconst SwitchField = ({\n  value,\n  label,\n  name,\n  className,\n  tabIndex,\n  onChange,\n  onFocus,\n  onBlur,\n  checked,\n  disabled,\n  valid,\n  warning,\n  error,\n  dense,\n  initialFocus,\n  required,\n  helpText,\n  validationText,\n  dataTest\n}) => React.createElement(Field, {\n  className: className,\n  dataTest: dataTest,\n  helpText: helpText,\n  validationText: validationText,\n  error: error,\n  warning: warning,\n  valid: valid,\n  required: required,\n  name: name,\n  disabled: disabled\n}, React.createElement(Switch, {\n  value: value,\n  label: React.createElement(AddRequired, {\n    label: label,\n    required: required,\n    dataTest: dataTest\n  }),\n  name: name,\n  tabIndex: tabIndex,\n  onChange: onChange,\n  onFocus: onFocus,\n  onBlur: onBlur,\n  checked: checked,\n  disabled: disabled,\n  valid: valid,\n  warning: warning,\n  error: error,\n  dense: dense,\n  initialFocus: initialFocus\n}));\n\nSwitchField.defaultProps = {\n  dataTest: 'dhis2-uiwidgets-switchfield'\n};\nSwitchField.propTypes = {\n  checked: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  helpText: PropTypes.string,\n  initialFocus: PropTypes.bool,\n  label: PropTypes.node,\n  name: PropTypes.string,\n  required: PropTypes.bool,\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  validationText: PropTypes.string,\n  value: PropTypes.string,\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n};\nexport default SwitchField;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { createToggleChangeHandler, createFocusHandler, createBlurHandler, hasError, isValid, getValidationText } from './shared/helpers';\nimport { metaPropType, inputPropType } from './shared/propTypes';\nimport SwitchField from './SwitchField';\n\nconst SwitchFieldFF = ({\n  error,\n  input,\n  meta,\n  showValidStatus,\n  valid,\n  validationText,\n  onBlur,\n  onFocus,\n  ...rest\n}) => React.createElement(SwitchField, _extends({}, rest, {\n  checked: input.checked,\n  name: input.name,\n  value: input.value,\n  error: hasError(meta, error),\n  valid: isValid(meta, valid, showValidStatus),\n  validationText: getValidationText(meta, validationText, error),\n  onFocus: createFocusHandler(input, onFocus),\n  onChange: createToggleChangeHandler(input),\n  onBlur: createBlurHandler(input, onBlur)\n}));\n\nSwitchFieldFF.propTypes = {\n  input: inputPropType.isRequired,\n  meta: metaPropType.isRequired,\n  error: PropTypes.bool,\n  showValidStatus: PropTypes.bool,\n  valid: PropTypes.bool,\n  validationText: PropTypes.string,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func\n};\nexport default SwitchFieldFF;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { Link } from 'react-router-dom';\nimport styles from './LinkButton.module.css';\n\nconst LinkButton = ({\n  className,\n  small,\n  ...rest\n}) => {\n  return React.createElement(Link, _extends({\n    className: cx(styles.linkButton, {\n      [styles.small]: small\n    }, className)\n  }, rest));\n};\n\nLinkButton.propTypes = {\n  className: PropTypes.string,\n  small: PropTypes.bool\n};\nexport default LinkButton;","import propTypes from 'prop-types';\nimport React from 'react';\nimport cx from 'classnames';\nimport styles from './RadioIcons.module.css';\nexport function RadioRegular({\n  className\n}) {\n  return React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 18 18\",\n    height: \"18px\",\n    width: \"18px\",\n    className: cx(styles.svg, className)\n  }, React.createElement(\"circle\", {\n    className: styles.circle,\n    cx: \"9\",\n    cy: \"9\",\n    r: \"9\"\n  }), React.createElement(\"path\", {\n    d: \"M9,18 C13.9705627,18 18,13.9705627 18,9 C18,4.02943725 13.9705627,0 9,0 C4.02943725,0 0,4.02943725 0,9 C0,13.9705627 4.02943725,18 9,18 Z M9,16 C5.13400675,16 2,12.8659932 2,9 C2,5.13400675 5.13400675,2 9,2 C12.8659932,2 16,5.13400675 16,9 C16,12.8659932 12.8659932,16 9,16 Z\",\n    className: \"outer\"\n  }), React.createElement(\"circle\", {\n    className: \"inner\",\n    cx: \"9\",\n    cy: \"9\",\n    r: \"5\"\n  }));\n}\nRadioRegular.propTypes = {\n  className: propTypes.string\n};\nexport function RadioDense({\n  className\n}) {\n  return React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 14 14\",\n    height: \"14px\",\n    width: \"14px\",\n    className: cx(styles.svg, className)\n  }, React.createElement(\"circle\", {\n    className: styles.circle,\n    cx: \"7\",\n    cy: \"7\",\n    r: \"7\"\n  }), React.createElement(\"path\", {\n    d: \"M7,14 C10.8659932,14 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 3.13400675,14 7,14 Z M7,13 C3.6862915,13 1,10.3137085 1,7 C1,3.6862915 3.6862915,1 7,1 C10.3137085,1 13,3.6862915 13,7 C13,10.3137085 10.3137085,13 7,13 Z\",\n    className: \"outer unchecked\"\n  }), React.createElement(\"path\", {\n    d: \"M7,14 C10.8659932,14 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 3.13400675,14 7,14 Z M7,12 C4.23857625,12 2,9.76142375 2,7 C2,4.23857625 4.23857625,2 7,2 C9.76142375,2 12,4.23857625 12,7 C12,9.76142375 9.76142375,12 7,12 Z\",\n    className: \"outer checked\"\n  }), React.createElement(\"circle\", {\n    className: \"inner\",\n    cx: \"7\",\n    cy: \"7\",\n    r: \"3\"\n  }));\n}\nRadioDense.propTypes = {\n  className: propTypes.string\n};","import _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { colors, theme, sharedPropTypes } from '@dhis2/ui-constants';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component, createRef } from 'react';\nimport { RadioRegular, RadioDense } from './RadioIcons';\n\nclass Radio extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ref\", createRef());\n\n    _defineProperty(this, \"handleChange\", e => {\n      if (this.props.onChange) {\n        this.props.onChange(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleBlur\", e => {\n      if (this.props.onBlur) {\n        this.props.onBlur(this.createHandlerPayload(), e);\n      }\n    });\n\n    _defineProperty(this, \"handleFocus\", e => {\n      if (this.props.onFocus) {\n        this.props.onFocus(this.createHandlerPayload(), e);\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.initialFocus) {\n      this.ref.current.focus();\n    }\n  }\n\n  createHandlerPayload() {\n    return {\n      value: this.props.value,\n      name: this.props.name,\n      checked: !this.props.checked\n    };\n  }\n\n  render() {\n    const {\n      checked = false,\n      className,\n      disabled,\n      error,\n      label,\n      name,\n      tabIndex,\n      valid,\n      value,\n      warning,\n      dense,\n      dataTest\n    } = this.props;\n    const classes = cx({\n      checked,\n      disabled,\n      valid,\n      error,\n      warning\n    });\n    return React.createElement(\"label\", {\n      \"data-test\": dataTest,\n      className: _JSXStyle.dynamic([[\"3234055778\", [colors.grey900, theme.disabled, label ? '5px' : 0, colors.blue600]]]) + \" \" + (cx(className, {\n        disabled,\n        dense\n      }) || \"\")\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      ref: this.ref,\n      name: name,\n      value: value,\n      checked: checked,\n      disabled: disabled,\n      tabIndex: tabIndex,\n      onChange: this.handleChange,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      className: _JSXStyle.dynamic([[\"3234055778\", [colors.grey900, theme.disabled, label ? '5px' : 0, colors.blue600]]])\n    }), React.createElement(\"div\", {\n      className: _JSXStyle.dynamic([[\"3234055778\", [colors.grey900, theme.disabled, label ? '5px' : 0, colors.blue600]]]) + \" \" + (cx('icon', {\n        dense\n      }) || \"\")\n    }, dense ? React.createElement(RadioDense, {\n      className: classes\n    }) : React.createElement(RadioRegular, {\n      className: classes\n    })), label, React.createElement(_JSXStyle, {\n      id: \"3234055778\",\n      dynamic: [colors.grey900, theme.disabled, label ? '5px' : 0, colors.blue600]\n    }, [\"label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;color:\".concat(colors.grey900, \";font-size:16px;line-height:20px;}\"), \"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}\", \"label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:\".concat(theme.disabled, \";}\"), \"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:18px;left:3px;}\", \"label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:14px;}\", \".icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-right:\".concat(label ? '5px' : 0, \";border:2px solid transparent;padding:1px;border-radius:50%;}\"), \"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-right:3px;}\", \"input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{border-color:\".concat(colors.blue600, \";}\")]));\n  }\n\n}\n\nRadio.defaultProps = {\n  dataTest: 'dhis2-uicore-radio'\n};\nRadio.propTypes = {\n  checked: PropTypes.bool,\n  className: PropTypes.string,\n  dataTest: PropTypes.string,\n  dense: PropTypes.bool,\n  disabled: PropTypes.bool,\n  error: sharedPropTypes.statusPropType,\n  initialFocus: PropTypes.bool,\n  label: PropTypes.node,\n  name: PropTypes.string,\n  tabIndex: PropTypes.string,\n  valid: sharedPropTypes.statusPropType,\n  value: PropTypes.string,\n  warning: sharedPropTypes.statusPropType,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n};\nexport default Radio;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Switch } from '../Temporary';\nimport { hooks } from '../Store';\n/* istanbul ignore next */\n\nconst mutation = {\n  resource: 'jobConfigurations',\n  id: ({\n    id\n  }) => id,\n  type: 'update',\n  partial: true,\n  data: ({\n    enabled\n  }) => ({\n    enabled\n  })\n};\n\nconst ToggleJobSwitch = ({\n  id,\n  checked,\n  disabled\n}) => {\n  const [toggleJob, {\n    loading\n  }] = useDataMutation(mutation);\n  const refetchJobs = hooks.useRefetchJobs();\n  const enabled = !checked;\n  return React.createElement(Switch, {\n    name: \"toggle-job-\".concat(id),\n    disabled: disabled || loading,\n    checked: checked,\n    onChange: () => {\n      toggleJob({\n        id,\n        enabled\n      }).then(() => refetchJobs());\n    },\n    ariaLabel: i18n.t('Toggle job')\n  });\n};\n\nconst {\n  bool,\n  string\n} = PropTypes;\nToggleJobSwitch.propTypes = {\n  checked: bool.isRequired,\n  disabled: bool.isRequired,\n  id: string.isRequired\n};\nexport default ToggleJobSwitch;","import { createHashHistory } from 'history';\nconst history = createHashHistory();\nexport default history;","import history from './history';\nexport default history;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { MenuItem } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport history from '../../services/history';\n\nconst EditJobAction = ({\n  id\n}) => React.createElement(MenuItem, {\n  dense: true,\n  onClick: () => history.push(\"/edit/\".concat(id)),\n  label: i18n.t('Edit')\n});\n\nconst {\n  string\n} = PropTypes;\nEditJobAction.propTypes = {\n  id: string.isRequired\n};\nexport default EditJobAction;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { MenuItem } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport history from '../../services/history';\n\nconst ViewJobAction = ({\n  id\n}) => React.createElement(MenuItem, {\n  dense: true,\n  onClick: () => history.push(\"/view/\".concat(id)),\n  label: i18n.t('View')\n});\n\nconst {\n  string\n} = PropTypes;\nViewJobAction.propTypes = {\n  id: string.isRequired\n};\nexport default ViewJobAction;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useState } from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Button, Modal, ModalTitle, ModalContent, ModalActions, ButtonStrip } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { Radio } from '../Temporary';\nconst cronPresets = [{\n  label: i18n.t('Every hour'),\n  value: '0 0 * ? * *'\n}, {\n  label: i18n.t('Every day at midnight'),\n  value: '0 0 1 ? * *'\n}, {\n  label: i18n.t('Every day at 3 am'),\n  value: '0 0 3 ? * *'\n}, {\n  label: i18n.t('Every day at noon'),\n  value: '0 0 12 ? * MON-FRI'\n}, {\n  label: i18n.t('Every week'),\n  value: '0 0 3 ? * MON'\n}];\n\nconst CronPresetModal = ({\n  setCron,\n  hideModal\n}) => {\n  const [currentPreset, setCurrentPreset] = useState('');\n  return React.createElement(Modal, {\n    open: true,\n    small: true,\n    onClose: hideModal\n  }, React.createElement(ModalTitle, null, i18n.t('Choose a preset time/interval')), React.createElement(ModalContent, null, cronPresets.map(preset => React.createElement(Radio, _extends({}, preset, {\n    checked: currentPreset === preset.value,\n    key: preset.value,\n    onChange: ({\n      value\n    }) => setCurrentPreset(value)\n  })))), React.createElement(ModalActions, null, React.createElement(ButtonStrip, {\n    end: true\n  }, React.createElement(Button, {\n    secondary: true,\n    onClick: hideModal,\n    name: \"hide-modal\"\n  }, i18n.t('Cancel')), React.createElement(Button, {\n    primary: true,\n    name: \"insert-preset\",\n    disabled: !currentPreset,\n    onClick: () => {\n      hideModal();\n      setCron(currentPreset);\n    }\n  }, i18n.t('Insert preset')))));\n};\n\nconst {\n  func\n} = PropTypes;\nCronPresetModal.propTypes = {\n  hideModal: func.isRequired,\n  setCron: func.isRequired\n};\nexport default CronPresetModal;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Button, Modal, ModalContent, ModalActions, ButtonStrip } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { useDataMutation } from '@dhis2/app-runtime';\nconst mutation = {\n  resource: 'jobConfigurations',\n  id:\n  /* istanbul ignore next */\n  ({\n    id\n  }) => id,\n  type: 'delete'\n};\n\nconst DeleteJobModal = ({\n  id,\n  hideModal,\n  onSuccess\n}) => {\n  const [deleteJob] = useDataMutation(mutation);\n  return React.createElement(Modal, {\n    open: true,\n    small: true,\n    onClose: hideModal\n  }, React.createElement(ModalContent, null, i18n.t('Are you sure you want to delete this job?')), React.createElement(ModalActions, null, React.createElement(ButtonStrip, {\n    end: true\n  }, React.createElement(Button, {\n    name: \"hide-modal\",\n    secondary: true,\n    onClick: hideModal\n  }, i18n.t('Cancel')), React.createElement(Button, {\n    name: \"delete-job-\".concat(id),\n    destructive: true,\n    onClick: () => {\n      deleteJob({\n        id\n      }).then(() => {\n        hideModal();\n        onSuccess();\n      });\n    }\n  }, i18n.t('Delete')))));\n};\n\nconst {\n  func,\n  string\n} = PropTypes;\nDeleteJobModal.propTypes = {\n  hideModal: func.isRequired,\n  id: string.isRequired,\n  onSuccess: func.isRequired\n};\nexport default DeleteJobModal;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Button, Modal, ModalContent, ModalActions, ButtonStrip } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport history from '../../services/history';\n\nconst DiscardFormModal = ({\n  hideModal\n}) => React.createElement(Modal, {\n  open: true,\n  small: true,\n  onClose: hideModal\n}, React.createElement(ModalContent, null, i18n.t('Are you sure you want to discard this form?')), React.createElement(ModalActions, null, React.createElement(ButtonStrip, {\n  end: true\n}, React.createElement(Button, {\n  name: \"cancel-discard-form\",\n  secondary: true,\n  onClick: hideModal\n}, i18n.t('Cancel')), React.createElement(Button, {\n  name: \"discard-form\",\n  destructive: true,\n  onClick: () => {\n    hideModal();\n    history.push('/');\n  }\n}, i18n.t('Discard')))));\n\nconst {\n  func\n} = PropTypes;\nDiscardFormModal.propTypes = {\n  hideModal: func.isRequired\n};\nexport default DiscardFormModal;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { Button, Modal, ModalContent, ModalActions, ButtonStrip } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { hooks } from '../Store';\n\nconst RunJobModal = ({\n  id,\n  hideModal\n}) => {\n  const engine = useDataEngine();\n  const query = {\n    jobs: {\n      resource: \"jobConfigurations/\".concat(id, \"/execute\")\n    }\n  };\n\n  const runJob = () => engine.query(query);\n\n  const refetchJobs = hooks.useRefetchJobs();\n  return React.createElement(Modal, {\n    open: true,\n    small: true,\n    onClose: hideModal\n  }, React.createElement(ModalContent, null, i18n.t('Are you sure you want to run this job?')), React.createElement(ModalActions, null, React.createElement(ButtonStrip, {\n    end: true\n  }, React.createElement(Button, {\n    name: \"hide-modal\",\n    secondary: true,\n    onClick: hideModal\n  }, i18n.t('Cancel')), React.createElement(Button, {\n    name: \"run-job-\".concat(id),\n    primary: true,\n    onClick: () => {\n      runJob().then(() => {\n        hideModal();\n        refetchJobs();\n      });\n    }\n  }, i18n.t('Run')))));\n};\n\nconst {\n  func,\n  string\n} = PropTypes;\nRunJobModal.propTypes = {\n  hideModal: func.isRequired,\n  id: string.isRequired\n};\nexport default RunJobModal;","import React, { useState } from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { MenuItem } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { hooks } from '../Store';\nimport { RunJobModal } from '../Modal';\n\nconst RunJobAction = ({\n  id\n}) => {\n  const {\n    enabled\n  } = hooks.useJob(id);\n  const [showModal, setShowModal] = useState(false);\n  return React.createElement(React.Fragment, null, React.createElement(MenuItem, {\n    dense: true,\n    onClick: () => {\n      setShowModal(true);\n    },\n    disabled: !enabled,\n    label: i18n.t('Run manually')\n  }), showModal && React.createElement(RunJobModal, {\n    id: id,\n    hideModal:\n    /* istanbul ignore next */\n    () => setShowModal(false)\n  }));\n};\n\nconst {\n  string\n} = PropTypes;\nRunJobAction.propTypes = {\n  id: string.isRequired\n};\nexport default RunJobAction;","import React, { useState } from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { MenuItem } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { DeleteJobModal } from '../Modal';\nimport { hooks } from '../Store';\n\nconst DeleteJobAction = ({\n  id\n}) => {\n  const [showModal, setShowModal] = useState(false);\n  const refetchJobs = hooks.useRefetchJobs();\n  return React.createElement(React.Fragment, null, React.createElement(MenuItem, {\n    dense: true,\n    destructive: true,\n    onClick: () => {\n      setShowModal(true);\n    },\n    label: i18n.t('Delete')\n  }), showModal && React.createElement(DeleteJobModal, {\n    id: id,\n    hideModal:\n    /* istanbul ignore next */\n    () => setShowModal(false),\n    onSuccess: refetchJobs\n  }));\n};\n\nconst {\n  string\n} = PropTypes;\nDeleteJobAction.propTypes = {\n  id: string.isRequired\n};\nexport default DeleteJobAction;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { FlyoutMenu, DropdownButton } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport EditJobAction from './EditJobAction';\nimport ViewJobAction from './ViewJobAction';\nimport RunJobAction from './RunJobAction';\nimport DeleteJobAction from './DeleteJobAction';\n\nconst Actions = ({\n  id,\n  configurable\n}) => React.createElement(DropdownButton, {\n  small: true,\n  component: React.createElement(FlyoutMenu, null, configurable ? React.createElement(EditJobAction, {\n    id: id\n  }) : React.createElement(ViewJobAction, {\n    id: id\n  }), configurable && React.createElement(RunJobAction, {\n    id: id\n  }), configurable && React.createElement(DeleteJobAction, {\n    id: id\n  }))\n}, i18n.t('Actions'));\n\nActions.defaultProps = {\n  configurable: false\n};\nconst {\n  string,\n  bool\n} = PropTypes;\nActions.propTypes = {\n  id: string.isRequired,\n  configurable: bool\n};\nexport default Actions;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Tag } from '@dhis2/ui';\nimport { jobStatusMap } from '../../services/server-translations';\n\nconst Status = ({\n  status\n}) => {\n  switch (status) {\n    case 'STOPPED':\n    case 'DISABLED':\n      return React.createElement(Tag, null, jobStatusMap[status]);\n\n    case 'RUNNING':\n    case 'NOT_STARTED':\n    case 'SCHEDULED':\n      return React.createElement(Tag, {\n        neutral: true\n      }, jobStatusMap[status]);\n\n    case 'FAILED':\n      return React.createElement(Tag, {\n        negative: true\n      }, jobStatusMap[status]);\n\n    case 'DONE':\n      return React.createElement(Tag, {\n        positive: true\n      }, jobStatusMap[status]);\n    // Unrecognised status\n\n    default:\n      return null;\n  }\n};\n\nconst {\n  string\n} = PropTypes;\nStatus.propTypes = {\n  status: string.isRequired\n};\nexport default Status;","import moment from 'moment';\nimport { PropTypes } from '@dhis2/prop-types';\nimport i18n from '@dhis2/d2-i18n';\n\nconst NextRun = ({\n  nextExecutionTime,\n  enabled\n}) => {\n  if (!enabled || !nextExecutionTime) {\n    return '-';\n  }\n\n  const now = moment(Date.now());\n  /**\n   * The recommendation is to run dhis2 on a server set to UTC time.\n   * In that case this timestamp is also UTC. If those recommendations\n   * weren't followed the time could be off, but there's nothing\n   * we can do to detect that.\n   */\n\n  const nextRun = moment.utc(nextExecutionTime);\n  const nextRunIsInPast = nextRun.isSameOrBefore(now, 'minute');\n  /**\n   * If the time is in the past, that could mean that the task is running,\n   * and the nextExecutionTime hasn't been updated yet.\n   */\n\n  if (nextRunIsInPast) {\n    return i18n.t('Not scheduled');\n  }\n\n  return now.to(nextRun);\n};\n\nconst {\n  bool,\n  string\n} = PropTypes;\nNextRun.propTypes = {\n  enabled: bool.isRequired,\n  nextExecutionTime: string\n};\nexport default NextRun;","const WEEKDAYS = ['MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT', 'SUN'];\nconst MONTHS = ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'];\n\nconst isValidFields = fields => fields && fields.length === 6;\n\nconst isValidNumber = (number, x, y) => number >= x && number <= y;\n\nconst isWildcard = field => field === '*';\n\nconst isUndefined = field => field === '?';\n\nconst isValidNumberRange = (range, x, y) => {\n  const boundaries = range.split('-');\n  if (!boundaries || boundaries.length !== 2) return false;\n  return isValidNumber(boundaries[0], x, y) && isValidNumber(boundaries[1], x, y) && boundaries[0] <= boundaries[1];\n};\n\nconst isValidFraction = (fraction, x, y) => {\n  const components = fraction.split('/');\n  if (!components || components.length !== 2) return false;\n  /* istanbul ignore next */\n\n  return (isWildcard(components[0]) || isValidNumber(components[0], x, y)) && isValidNumber(components[1], x, y);\n};\n\nconst isAlphabeticWeekday = field => {\n  const weekdays = field.split('-');\n  const [firstDay, secondDay] = weekdays.map(c => WEEKDAYS.indexOf(c));\n  return firstDay !== -1 && secondDay === undefined || firstDay !== -1 && secondDay !== -1 && firstDay <= secondDay;\n};\n\nconst isAlphabeticMonth = field => {\n  const months = field.split('-');\n  const [firstMonth, secondMonth] = months.map(m => MONTHS.indexOf(m));\n  /* istanbul ignore next */\n\n  return firstMonth !== -1 && secondMonth === undefined || firstMonth !== -1 && secondMonth !== -1 && firstMonth <= secondMonth;\n};\n\nconst isValidWithinRange = (field, x, y) => isWildcard(field) || isValidNumber(field, x, y) || isValidNumberRange(field, x, y) || isValidFraction(field, x, y);\n\nconst isValidSecondField = field => isValidWithinRange(field, 0, 59);\n\nconst isValidMinuteField = field => isValidWithinRange(field, 0, 59);\n\nconst isValidHourField = field => isValidWithinRange(field, 0, 23);\n\nconst isValidDayField = field => isValidWithinRange(field, 0, 31) || isUndefined(field);\n\nconst isValidMonthField = field => isValidWithinRange(field, 1, 12) || isAlphabeticMonth(field);\n\nconst isValidWeekdayField = field => isValidWithinRange(field, 1, 7) || isAlphabeticWeekday(field) || isUndefined(field);\n/**\n * Cron expression validation. Validates the Spring Scheduling pattern.\n * Format: <second> <minute> <hour> <day-of-month> <month> <day-of-week>\n * Source code: https://git.io/vpoqG\n * Documentation: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html\n */\n\n\nconst validateCron = exp => {\n  if (!exp) {\n    return false;\n  }\n\n  const fields = exp.trim().split(' ');\n\n  if (!isValidFields(fields)) {\n    return false;\n  }\n\n  return isValidSecondField(fields[0]) && isValidMinuteField(fields[1]) && isValidHourField(fields[2]) && isValidDayField(fields[3]) && isValidMonthField(fields[4]) && isValidWeekdayField(fields[5]);\n};\n\nexport default validateCron;","import i18n from '@dhis2/d2-i18n';\nimport validateCron from './validate-cron';\n\nconst requiredCron = value => {\n  const isString = typeof value === 'string';\n  const isFilled = isString && value.length > 0;\n\n  if (!isFilled) {\n    return i18n.t('A CRON expression is required');\n  }\n\n  if (!validateCron(value)) {\n    return i18n.t('Please enter a valid CRON expression');\n  }\n\n  return undefined;\n};\n\nexport default requiredCron;","import cronstrue from 'cronstrue/i18n';\nimport i18n from '@dhis2/d2-i18n';\nimport { validateCron } from '../validators';\nconst fallback = 'en';\n\nconst translateCron = cron => {\n  const locale = i18n.language || fallback;\n  const isValid = cron && validateCron(cron);\n\n  if (!isValid) {\n    return '';\n  }\n\n  return cronstrue.toString(cron, {\n    locale\n  });\n};\n\nexport default translateCron;","import translateCron from './translate-cron';\nexport default translateCron;","import { PropTypes } from '@dhis2/prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport translateCron from '../../services/translate-cron';\n\nconst Schedule = ({\n  cronExpression,\n  schedulingType,\n  delay\n}) => {\n  switch (schedulingType) {\n    case 'CRON':\n      return translateCron(cronExpression);\n\n    case 'FIXED_DELAY':\n      return i18n.t('{{ delay }} seconds after last run', {\n        delay\n      });\n\n    default:\n      // Unrecognised or invalid type\n      return '-';\n  }\n};\n\nconst {\n  string,\n  number\n} = PropTypes;\nSchedule.propTypes = {\n  schedulingType: string.isRequired,\n  cronExpression: string,\n  delay: number\n};\nexport default Schedule;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { TableRow, TableCell } from '@dhis2/ui';\nimport { jobTypesMap } from '../../services/server-translations';\nimport { ToggleJobSwitch } from '../Switches';\nimport Actions from './Actions';\nimport Status from './Status';\nimport NextRun from './NextRun';\nimport Schedule from './Schedule';\n\nconst JobTableRow = ({\n  job: {\n    id,\n    displayName,\n    jobType,\n    cronExpression,\n    delay,\n    jobStatus,\n    nextExecutionTime,\n    schedulingType,\n    enabled,\n    configurable\n  }\n}) => React.createElement(TableRow, null, React.createElement(TableCell, {\n  role: \"rowheader\"\n}, displayName), React.createElement(TableCell, null, jobTypesMap[jobType]), React.createElement(TableCell, null, React.createElement(Schedule, {\n  cronExpression: cronExpression,\n  delay: delay,\n  schedulingType: schedulingType\n})), React.createElement(TableCell, null, React.createElement(NextRun, {\n  nextExecutionTime: nextExecutionTime,\n  enabled: enabled\n})), React.createElement(TableCell, null, React.createElement(Status, {\n  status: jobStatus\n})), React.createElement(TableCell, null, React.createElement(ToggleJobSwitch, {\n  id: id,\n  checked: enabled,\n  disabled: !configurable\n})), React.createElement(TableCell, null, React.createElement(Actions, {\n  id: id,\n  configurable: configurable\n})));\n\nconst {\n  shape,\n  string,\n  bool,\n  number\n} = PropTypes;\nJobTableRow.propTypes = {\n  job: shape({\n    displayName: string.isRequired,\n    enabled: bool.isRequired,\n    id: string.isRequired,\n    jobStatus: string.isRequired,\n    jobType: string.isRequired,\n    schedulingType: string.isRequired,\n    cronExpression: string,\n    delay: number,\n    nextExecutionTime: string\n  }).isRequired\n};\nexport default JobTableRow;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Table, TableHead, TableRowHead, TableRow, TableCell, TableCellHead, TableBody } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport JobTableRow from './JobTableRow';\n\nconst JobTable = ({\n  jobs\n}) => React.createElement(Table, null, React.createElement(TableHead, null, React.createElement(TableRowHead, null, React.createElement(TableCellHead, null, i18n.t('Job name')), React.createElement(TableCellHead, null, i18n.t('Type')), React.createElement(TableCellHead, null, i18n.t('Schedule')), React.createElement(TableCellHead, null, i18n.t('Next run')), React.createElement(TableCellHead, null, i18n.t('Status')), React.createElement(TableCellHead, null, i18n.t('On/off')), React.createElement(TableCellHead, null))), React.createElement(TableBody, null, jobs.length === 0 ? React.createElement(TableRow, null, React.createElement(TableCell, null, i18n.t('No jobs to display'))) : jobs.map(job => React.createElement(JobTableRow, {\n  key: job.id,\n  job: job\n}))));\n\nconst {\n  object,\n  arrayOf\n} = PropTypes;\nJobTable.propTypes = {\n  jobs: arrayOf(object).isRequired\n};\nexport default JobTable;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Card, Checkbox, InputField, IconInfo16 } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { JobTable } from '../../components/JobTable';\nimport { LinkButton } from '../../components/Temporary';\nimport styles from './JobList.module.css';\nconst infoLink = 'https://docs.dhis2.org/en/use/user-guides/dhis-core-version-236/maintaining-the-system/scheduling.html';\n\nconst JobList = ({\n  jobs,\n  showSystemJobs,\n  setShowSystemJobs,\n  jobFilter,\n  setJobFilter\n}) => React.createElement(React.Fragment, null, React.createElement(\"header\", {\n  className: styles.header\n}, React.createElement(\"h1\", {\n  className: styles.headerTitle\n}, i18n.t('Scheduled jobs')), React.createElement(\"a\", {\n  href: infoLink,\n  className: styles.headerLink,\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, React.createElement(\"span\", {\n  className: styles.headerLinkIcon\n}, React.createElement(IconInfo16, null)), i18n.t('About job configuration'))), React.createElement(Card, null, React.createElement(\"div\", {\n  className: styles.controlContainer\n}, React.createElement(InputField, {\n  dataTest: \"job-filter-input\",\n  label: i18n.t('Filter jobs'),\n  onChange: ({\n    value\n  }) => {\n    setJobFilter(value);\n  },\n  value: jobFilter,\n  type: \"search\",\n  role: \"searchbox\",\n  name: \"job-filter\"\n}), React.createElement(\"div\", {\n  className: styles.controlRight\n}, React.createElement(Checkbox, {\n  dataTest: \"job-toggle-checkbox\",\n  checked: showSystemJobs,\n  label: i18n.t('Include system jobs in list'),\n  onChange: ({\n    checked\n  }) => {\n    setShowSystemJobs(checked);\n  }\n}), React.createElement(LinkButton, {\n  to: \"/add\"\n}, i18n.t('New job')))), React.createElement(JobTable, {\n  jobs: jobs\n})));\n\nconst {\n  bool,\n  object,\n  string,\n  arrayOf,\n  func\n} = PropTypes;\nJobList.propTypes = {\n  jobFilter: string.isRequired,\n  jobs: arrayOf(object).isRequired,\n  setJobFilter: func.isRequired,\n  setShowSystemJobs: func.isRequired,\n  showSystemJobs: bool.isRequired\n};\nexport default JobList;","import React from 'react';\nimport { hooks } from '../../components/Store';\nimport JobList from './JobList';\n\nconst JobListContainer = () => {\n  const [jobFilter, setJobFilter] = hooks.useJobFilter();\n  const [showSystemJobs, setShowSystemJobs] = hooks.useShowSystemJobs();\n  const jobs = hooks.useJobListJobs();\n  return React.createElement(JobList, {\n    jobs: jobs,\n    showSystemJobs: showSystemJobs,\n    setShowSystemJobs: setShowSystemJobs,\n    jobFilter: jobFilter,\n    setJobFilter: setJobFilter\n  });\n};\n\nexport default JobListContainer;","import React, { useState } from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Button } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { CronPresetModal } from '../Modal';\n\nconst CronPresetButton = ({\n  setCron,\n  small\n}) => {\n  const [showModal, setShowModal] = useState(false);\n  return React.createElement(React.Fragment, null, React.createElement(Button, {\n    onClick: () => setShowModal(true),\n    small: small\n  }, i18n.t('Choose from preset times')), showModal && React.createElement(CronPresetModal, {\n    hideModal:\n    /* istanbul ignore next */\n    () => setShowModal(false),\n    setCron: setCron\n  }));\n};\n\nCronPresetButton.defaultProps = {\n  small: false\n};\nconst {\n  func,\n  bool\n} = PropTypes;\nCronPresetButton.propTypes = {\n  setCron: func.isRequired,\n  small: bool\n};\nexport default CronPresetButton;","import React, { useState } from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Button } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { DeleteJobModal } from '../Modal';\n\nconst DeleteJobButton = ({\n  id,\n  onSuccess\n}) => {\n  const [showModal, setShowModal] = useState(false);\n  return React.createElement(React.Fragment, null, React.createElement(Button, {\n    destructive: true,\n    onClick: () => setShowModal(true)\n  }, i18n.t('Delete job')), showModal && React.createElement(DeleteJobModal, {\n    id: id,\n    hideModal:\n    /* istanbul ignore next */\n    () => setShowModal(false),\n    onSuccess: onSuccess\n  }));\n};\n\nconst {\n  string,\n  func\n} = PropTypes;\nDeleteJobButton.propTypes = {\n  id: string.isRequired,\n  onSuccess: func.isRequired\n};\nexport default DeleteJobButton;","import React, { useState } from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Button } from '@dhis2/ui';\nimport history from '../../services/history';\nimport { DiscardFormModal } from '../Modal';\n\nconst DiscardFormButton = ({\n  shouldConfirm,\n  children,\n  small,\n  className\n}) => {\n  const [showModal, setShowModal] = useState(false);\n  const onClick = shouldConfirm ? () => setShowModal(true) : () => history.push('/');\n  return React.createElement(React.Fragment, null, React.createElement(Button, {\n    onClick: onClick,\n    small: small,\n    className: className\n  }, children), showModal && React.createElement(DiscardFormModal, {\n    hideModal:\n    /* istanbul ignore next */\n    () => setShowModal(false)\n  }));\n};\n\nDiscardFormButton.defaultProps = {\n  className: '',\n  shouldConfirm: false,\n  small: false\n};\nconst {\n  string,\n  bool\n} = PropTypes;\nDiscardFormButton.propTypes = {\n  children: string.isRequired,\n  className: string,\n  shouldConfirm: bool,\n  small: bool\n};\nexport default DiscardFormButton;","import { FinalForm } from '@dhis2/ui';\nconst {\n  FORM_ERROR\n} = FinalForm;\n/**\n * Formats the errors returned by our backend to a format that final-form can parse\n */\n\nconst formatError = error => {\n  const {\n    details: {\n      response\n    }\n  } = error;\n  const validationErrors = {};\n  /**\n   * Some backend errors do not have a way for us to infer the related field,\n   * those can be put in genericErrors\n   */\n\n  const genericErrors = [];\n\n  if (response.errorReports && response.errorReports.length) {\n    response.errorReports.forEach(report => {\n      /**\n       * errorProperty is how the backend indicates the field that the error\n       * is related to. If we know this, return it as a field specific error\n       * (note that this will swallow errors if the backend indicates a field\n       * that does not exist in the frontend). Otherwise we'll push it to the\n       * generic errors.\n       */\n      if (report.errorProperty) {\n        validationErrors[report.errorProperty] = report.message;\n      } else {\n        genericErrors.push(report.message);\n      }\n    });\n  }\n\n  if (genericErrors.length > 0) {\n    validationErrors[FORM_ERROR] = genericErrors;\n  }\n\n  return validationErrors;\n};\n\nexport default formatError;","import formatError from './format-error';\nexport default formatError;","import { useContext } from 'react';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { StoreContext } from '../../components/Store';\nimport history from '../../services/history';\nimport formatError from '../../services/format-error';\nconst mutation = {\n  resource: 'jobConfigurations',\n  type: 'create',\n  data:\n  /* istanbul ignore next */\n  ({\n    job\n  }) => job\n};\n\nconst useSubmitJob = () => {\n  const {\n    refetchJobs\n  } = useContext(StoreContext);\n  const engine = useDataEngine();\n\n  const submitJob = job => engine.mutate(mutation, {\n    variables: {\n      job\n    }\n  }).then(() => {\n    history.push('/');\n    refetchJobs();\n  }).catch(error => {\n    const isValidationError = error.type === 'access'; // Potential validation error, return it in a format final-form can handle\n\n    if (isValidationError) {\n      return formatError(error);\n    } // Throw any unexpected errors\n\n\n    throw error;\n  });\n\n  return [submitJob];\n};\n\nexport default useSubmitJob;","import { useContext } from 'react';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { StoreContext } from '../../components/Store';\nimport history from '../../services/history';\nimport formatError from '../../services/format-error';\nconst mutation = {\n  resource: 'jobConfigurations',\n  type: 'update',\n  id:\n  /* istanbul ignore next */\n  ({\n    id\n  }) => id,\n  data:\n  /* istanbul ignore next */\n  ({\n    job\n  }) => job\n};\n\nconst useUpdateJob = ({\n  id\n}) => {\n  const {\n    refetchJobs\n  } = useContext(StoreContext);\n  const engine = useDataEngine();\n\n  const updateJob = job => engine.mutate(mutation, {\n    variables: {\n      job,\n      id\n    }\n  }).then(() => {\n    history.push('/');\n    refetchJobs();\n  }).catch(error => {\n    const isValidationError = error.type === 'access'; // Potential validation error, return it in a format final-form can handle\n\n    if (isValidationError) {\n      return formatError(error);\n    } // Throw any unexpected errors\n\n\n    throw error;\n  });\n\n  return [updateJob];\n};\n\nexport default useUpdateJob;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { NoticeBox } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport styles from './FormErrorBox.module.css';\n\nconst FormErrorBox = ({\n  submitError\n}) => {\n  const hasGenericSubmitErrors = submitError.length > 0;\n\n  if (!hasGenericSubmitErrors) {\n    return null;\n  }\n\n  return React.createElement(NoticeBox, {\n    error: true,\n    title: i18n.t('Something went wrong whilst creating your job')\n  }, React.createElement(\"ul\", {\n    className: styles.list\n  }, submitError.map(error => React.createElement(\"li\", {\n    key: error\n  }, error))));\n};\n\nconst {\n  array\n} = PropTypes;\nFormErrorBox.propTypes = {\n  submitError: array.isRequired\n};\nexport default FormErrorBox;","import React from 'react';\nimport { ReactFinalForm, InputFieldFF, composeValidators, hasValue, string } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nconst {\n  Field\n} = ReactFinalForm; // The key under which this field will be sent to the backend\n\nconst FIELD_NAME = 'name';\nconst VALIDATOR = composeValidators(string, hasValue);\n\nconst JobNameField = () => React.createElement(Field, {\n  name: FIELD_NAME,\n  component: InputFieldFF,\n  validate: VALIDATOR,\n  label: i18n.t('Name'),\n  type: \"text\",\n  required: true\n});\n\nexport default JobNameField;","import React from 'react';\nimport { ReactFinalForm, SingleSelectFieldFF, composeValidators, hasValue, string } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { hooks } from '../Store';\nimport { jobTypesMap } from '../../services/server-translations';\nconst {\n  Field\n} = ReactFinalForm; // The key under which this field will be sent to the backend\n\nexport const FIELD_NAME = 'jobType';\nconst VALIDATOR = composeValidators(string, hasValue);\n\nconst JobTypeField = () => {\n  const jobTypes = hooks.useAllJobTypes();\n  const options = jobTypes.map(({\n    jobType\n  }) => ({\n    value: jobType,\n    label: jobTypesMap[jobType]\n  }));\n  return React.createElement(Field, {\n    name: FIELD_NAME,\n    validate: VALIDATOR,\n    component: SingleSelectFieldFF,\n    options: options,\n    label: i18n.t('Job type'),\n    required: true\n  });\n};\n\nexport default JobTypeField;","/**\n * Our backend returns certain values as a number, but our\n * inputs expect and return a string, so we're formatting them to strings\n */\nexport const formatToString = value => {\n  if (typeof value === 'number') {\n    return value.toString();\n  }\n\n  return value;\n};","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { MultiSelectField, ReactFinalForm, MultiSelectFieldFF } from '@dhis2/ui';\nimport { hooks } from '../Store';\nimport { analyticsTableTypes } from '../../services/server-translations';\nconst {\n  Field\n} = ReactFinalForm;\n\nconst SkipTableTypesField = ({\n  label,\n  name,\n  parameterName\n}) => {\n  const options = hooks.useParameterOptions(parameterName);\n\n  if (options.length === 0) {\n    return React.createElement(MultiSelectField, {\n      disabled: true,\n      helpText: i18n.t('No options available'),\n      label: label\n    });\n  }\n\n  const translatedOptions = options.map(option => ({\n    value: option,\n    label: analyticsTableTypes[option] || option\n  }));\n  return React.createElement(Field, {\n    name: name,\n    component: MultiSelectFieldFF,\n    options: translatedOptions,\n    label: label\n  });\n};\n\nconst {\n  string\n} = PropTypes;\nSkipTableTypesField.propTypes = {\n  label: string.isRequired,\n  name: string.isRequired,\n  parameterName: string.isRequired\n};\nexport default SkipTableTypesField;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { MultiSelectFieldFF, ReactFinalForm, MultiSelectField } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { hooks } from '../Store';\nconst {\n  Field\n} = ReactFinalForm; // A labeled options field has options that have both an id and a label.\n\nconst LabeledOptionsField = ({\n  label,\n  name,\n  parameterName\n}) => {\n  const options = hooks.useParameterOptions(parameterName);\n\n  if (options.length === 0) {\n    return React.createElement(MultiSelectField, {\n      disabled: true,\n      helpText: i18n.t('No options available'),\n      label: label\n    });\n  }\n\n  const labeledOptions = options.map(({\n    id,\n    displayName\n  }) => ({\n    value: id,\n    label: displayName\n  }));\n  return React.createElement(Field, {\n    name: name,\n    component: MultiSelectFieldFF,\n    options: labeledOptions,\n    label: label\n  });\n};\n\nconst {\n  string\n} = PropTypes;\nLabeledOptionsField.propTypes = {\n  label: string.isRequired,\n  name: string.isRequired,\n  parameterName: string.isRequired\n};\nexport default LabeledOptionsField;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm, InputFieldFF, Box } from '@dhis2/ui';\nimport { hooks } from '../Store';\nimport { SwitchFieldFF } from '../Temporary';\nimport { formatToString } from './formatters';\nimport SkipTableTypesField from './SkipTableTypesField';\nimport LabeledOptionsField from './LabeledOptionsField';\nimport styles from './ParameterFields.module.css';\nconst {\n  Field\n} = ReactFinalForm; // The key under which the parameters will be sent to the backend\n\nconst FIELD_NAME = 'jobParameters'; // Renders all parameters for a given jobtype\n\nconst ParameterFields = ({\n  jobType\n}) => {\n  const parameters = hooks.useJobTypeParameters(jobType);\n\n  if (parameters.length === 0) {\n    return null;\n  } // Map all parameters to the appropriate field types\n\n\n  const parameterComponents = parameters.map(({\n    fieldName,\n    name,\n    klass\n  }) => {\n    const defaultProps = {\n      label: fieldName,\n      name: \"\".concat(FIELD_NAME, \".\").concat(name)\n    };\n    let parameterComponent = null; // Specific case, as the options here need specific translations\n\n    if (name === 'skipTableTypes') {\n      return React.createElement(Box, {\n        marginTop: \"16px\",\n        key: name\n      }, React.createElement(SkipTableTypesField, _extends({}, defaultProps, {\n        parameterName: name\n      })));\n    } // Generic field rendering\n\n\n    switch (klass) {\n      case 'java.lang.String':\n        parameterComponent = React.createElement(Field, _extends({}, defaultProps, {\n          component: InputFieldFF,\n          type: \"text\"\n        }));\n        break;\n\n      case 'java.lang.Boolean':\n        parameterComponent = React.createElement(Field, _extends({}, defaultProps, {\n          component: SwitchFieldFF,\n          type: \"checkbox\"\n        }));\n        break;\n\n      case 'java.lang.Integer':\n        parameterComponent = React.createElement(Field, _extends({}, defaultProps, {\n          component: InputFieldFF,\n          format: formatToString,\n          type: \"number\"\n        }));\n        break;\n\n      case 'java.util.List':\n        parameterComponent = React.createElement(LabeledOptionsField, _extends({}, defaultProps, {\n          parameterName: name\n        }));\n        break;\n    } // Wrap all components in a Box for spacing\n\n\n    return React.createElement(Box, {\n      marginTop: \"16px\",\n      key: name\n    }, parameterComponent);\n  });\n  return React.createElement(React.Fragment, null, React.createElement(\"header\", null, React.createElement(\"h4\", {\n    className: styles.headerTitle\n  }, i18n.t('Parameters'))), parameterComponents);\n};\n\nconst {\n  string\n} = PropTypes;\nParameterFields.propTypes = {\n  jobType: string.isRequired\n};\nexport default ParameterFields;","import React from 'react';\nimport { Box, ReactFinalForm, InputFieldFF } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { requiredCron } from '../../services/validators';\nimport { CronPresetButton } from '../Buttons';\nimport translateCron from '../../services/translate-cron';\nconst {\n  Field,\n  useFormState,\n  useForm\n} = ReactFinalForm; // The key under which this field will be sent to the backend\n\nconst FIELD_NAME = 'cronExpression';\nconst VALIDATOR = requiredCron;\n\nconst CronField = () => {\n  const form = useForm();\n  const {\n    values\n  } = useFormState({\n    subscription: {\n      values: true\n    }\n  });\n  const cronExpression = values[FIELD_NAME];\n  const helpText = translateCron(cronExpression);\n  return React.createElement(React.Fragment, null, React.createElement(Field, {\n    component: InputFieldFF,\n    name: FIELD_NAME,\n    validate: VALIDATOR,\n    label: i18n.t('CRON Expression'),\n    type: \"text\",\n    helpText: helpText,\n    required: true\n  }), React.createElement(Box, {\n    marginTop: \"8px\"\n  }, React.createElement(CronPresetButton, {\n    setCron:\n    /* istanbul ignore next */\n    cron => form.change(FIELD_NAME, cron),\n    small: true\n  })));\n};\n\nexport default CronField;","import React from 'react';\nimport { ReactFinalForm, InputFieldFF, composeValidators, hasValue, integer, createNumberRange } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { formatToString } from './formatters';\nconst {\n  Field\n} = ReactFinalForm; // Omitting the underscore here since it messes up i18n\n\nconst lowerbound = 1;\nconst upperbound = 86400; // The key under which this field will be sent to the backend\n\nconst FIELD_NAME = 'delay';\nconst VALIDATOR = composeValidators(integer, hasValue, createNumberRange(lowerbound, upperbound));\n\nconst DelayField = () => React.createElement(Field, {\n  component: InputFieldFF,\n  name: FIELD_NAME,\n  validate: VALIDATOR,\n  label: i18n.t('Delay'),\n  type: \"number\",\n  format: formatToString,\n  helpText: i18n.t('Delay in seconds ({{ lowerbound }} - {{ upperbound }})', {\n    lowerbound,\n    upperbound\n  }),\n  required: true\n});\n\nexport default DelayField;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { hooks } from '../Store';\nimport CronField from './CronField';\nimport DelayField from './DelayField';\n\nconst ScheduleField = ({\n  jobType\n}) => {\n  const currentJobType = hooks.useJobType(jobType);\n  const schedulingType = currentJobType.schedulingType;\n\n  switch (schedulingType) {\n    case 'CRON':\n      return React.createElement(CronField, null);\n\n    case 'FIXED_DELAY':\n      return React.createElement(DelayField, null);\n\n    default:\n      // Unrecognised scheduling type\n      return null;\n  }\n};\n\nconst {\n  string\n} = PropTypes;\nScheduleField.propTypes = {\n  jobType: string.isRequired\n};\nexport default ScheduleField;","import JobNameField from './JobNameField';\nimport JobTypeField, { FIELD_NAME as JOB_TYPE } from './JobTypeField';\nimport ParameterFields from './ParameterFields';\nimport ScheduleField from './ScheduleField';\nconst fieldNames = {\n  JOB_TYPE\n};\nexport { JobNameField, ScheduleField, JobTypeField, ParameterFields, fieldNames };","import React, { useEffect } from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, CircularLoader, Box, ReactFinalForm } from '@dhis2/ui';\nimport { DiscardFormButton } from '../Buttons';\nimport { FormErrorBox } from '../FormErrorBox';\nimport { ScheduleField, JobNameField, JobTypeField, ParameterFields, fieldNames } from '../FormFields';\nimport styles from './JobAddForm.module.css';\nconst {\n  useForm\n} = ReactFinalForm;\n\nconst JobAddForm = ({\n  handleSubmit,\n  pristine,\n  submitting,\n  submitError,\n  hasSubmitErrors,\n  values,\n  setIsPristine\n}) => {\n  const {\n    subscribe\n  } = useForm();\n  /**\n   * Lift pristine state up on changes, wrapped in useEffect because calls to setState\n   * outside of the component that owns the setState should not happen synchronously.\n   */\n\n  useEffect(() =>\n  /**\n   * The subscriber will only be called when pristine changes. It returns a\n   * cleanup function.\n   * https://final-form.org/docs/final-form/types/FormApi#subscribe\n   */\n  subscribe(({\n    pristine\n  }) => setIsPristine(pristine), {\n    pristine: true\n  })); // Check if there's currently a selected job type\n\n  const jobType = values[fieldNames.JOB_TYPE]; // Show a spinner only when submitting\n\n  const Spinner = submitting ? React.createElement(CircularLoader, {\n    small: true\n  }) : null;\n  return React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, React.createElement(Box, {\n    maxWidth: \"600px\"\n  }, React.createElement(JobNameField, null)), React.createElement(Box, {\n    marginTop: \"16px\",\n    maxWidth: \"400px\"\n  }, React.createElement(JobTypeField, null)), jobType && React.createElement(Box, {\n    marginTop: \"16px\",\n    maxWidth: \"400px\"\n  }, React.createElement(ScheduleField, {\n    jobType: jobType\n  })), jobType && React.createElement(Box, {\n    marginTop: \"32px\",\n    maxWidth: \"400px\"\n  }, React.createElement(ParameterFields, {\n    jobType: jobType\n  })), hasSubmitErrors && React.createElement(Box, {\n    marginTop: \"32px\",\n    maxWidth: \"600px\"\n  }, React.createElement(FormErrorBox, {\n    submitError: submitError\n  })), React.createElement(\"div\", {\n    className: styles.formButtonContainer\n  }, React.createElement(Button, {\n    primary: true,\n    type: \"submit\",\n    disabled: pristine || submitting,\n    icon: Spinner,\n    className: styles.saveButton\n  }, i18n.t('Save')), React.createElement(DiscardFormButton, {\n    shouldConfirm: !pristine\n  }, i18n.t('Cancel'))));\n};\n\nconst {\n  func,\n  bool,\n  object,\n  array\n} = PropTypes;\nJobAddForm.defaultProps = {\n  submitError: []\n};\nJobAddForm.propTypes = {\n  handleSubmit: func.isRequired,\n  hasSubmitErrors: bool.isRequired,\n  pristine: bool.isRequired,\n  setIsPristine: func.isRequired,\n  submitting: bool.isRequired,\n  values: object.isRequired,\n  submitError: array\n};\nexport default JobAddForm;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport { useSubmitJob } from '../../hooks/jobs';\nimport JobAddForm from './JobAddForm';\nconst {\n  Form\n} = ReactFinalForm;\n\nconst JobAddFormContainer = ({\n  setIsPristine\n}) => {\n  const [submitJob] = useSubmitJob();\n  /**\n   * destroyOnUnregister is enabled so that dynamic fields will be unregistered\n   * when they're removed from the form, for instance when the jobType changes.\n   */\n\n  return React.createElement(Form, {\n    onSubmit: submitJob,\n    component: JobAddForm,\n    setIsPristine: setIsPristine,\n    destroyOnUnregister: true\n  });\n};\n\nconst {\n  func\n} = PropTypes;\nJobAddFormContainer.propTypes = {\n  setIsPristine: func.isRequired\n};\nexport default JobAddFormContainer;","import React, { useEffect } from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, CircularLoader, Box, ReactFinalForm } from '@dhis2/ui';\nimport history from '../../services/history';\nimport { DiscardFormButton, DeleteJobButton } from '../Buttons';\nimport { FormErrorBox } from '../FormErrorBox';\nimport { ScheduleField, JobNameField, JobTypeField, ParameterFields, fieldNames } from '../FormFields';\nimport styles from './JobEditForm.module.css';\nconst {\n  useForm\n} = ReactFinalForm;\n\nconst JobEditForm = ({\n  id,\n  refetchJobs,\n  handleSubmit,\n  pristine,\n  submitting,\n  submitError,\n  hasSubmitErrors,\n  values,\n  setIsPristine\n}) => {\n  const {\n    subscribe\n  } = useForm();\n  /**\n   * Lift pristine state up on changes, wrapped in useEffect because calls to setState\n   * outside of the component that owns the setState should not happen synchronously.\n   */\n\n  useEffect(() =>\n  /**\n   * The subscriber will only be called when pristine changes. It returns a\n   * cleanup function.\n   * https://final-form.org/docs/final-form/types/FormApi#subscribe\n   */\n  subscribe(({\n    pristine\n  }) => setIsPristine(pristine), {\n    pristine: true\n  })); // Check if there's currently a selected job type\n\n  const jobType = values[fieldNames.JOB_TYPE]; // Show a spinner only when submitting\n\n  const Spinner = submitting ? React.createElement(CircularLoader, {\n    small: true\n  }) : null;\n  return React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, React.createElement(Box, {\n    maxWidth: \"600px\"\n  }, React.createElement(JobNameField, null)), React.createElement(Box, {\n    marginTop: \"16px\",\n    maxWidth: \"400px\"\n  }, React.createElement(JobTypeField, null)), jobType && React.createElement(Box, {\n    marginTop: \"16px\",\n    maxWidth: \"400px\"\n  }, React.createElement(ScheduleField, {\n    jobType: jobType\n  })), jobType && React.createElement(Box, {\n    marginTop: \"32px\",\n    maxWidth: \"400px\"\n  }, React.createElement(ParameterFields, {\n    jobType: jobType\n  })), hasSubmitErrors && React.createElement(Box, {\n    marginTop: \"32px\",\n    maxWidth: \"600px\"\n  }, React.createElement(FormErrorBox, {\n    submitError: submitError\n  })), React.createElement(\"div\", {\n    className: styles.formButtonContainer\n  }, React.createElement(Button, {\n    primary: true,\n    type: \"submit\",\n    disabled: pristine || submitting,\n    icon: Spinner,\n    className: styles.saveButton\n  }, i18n.t('Save')), React.createElement(DiscardFormButton, {\n    shouldConfirm: !pristine\n  }, i18n.t('Cancel')), React.createElement(\"span\", {\n    className: styles.deleteButton\n  }, React.createElement(DeleteJobButton, {\n    id: id,\n    onSuccess: () => {\n      history.push('/');\n      refetchJobs();\n    }\n  }))));\n};\n\nconst {\n  func,\n  bool,\n  object,\n  array,\n  string\n} = PropTypes;\nJobEditForm.defaultProps = {\n  submitError: []\n};\nJobEditForm.propTypes = {\n  handleSubmit: func.isRequired,\n  hasSubmitErrors: bool.isRequired,\n  id: string.isRequired,\n  pristine: bool.isRequired,\n  refetchJobs: func.isRequired,\n  setIsPristine: func.isRequired,\n  submitting: bool.isRequired,\n  values: object.isRequired,\n  submitError: array\n};\nexport default JobEditForm;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport { useParams } from 'react-router-dom';\nimport { useUpdateJob } from '../../hooks/jobs';\nimport { hooks } from '../Store';\nimport JobEditForm from './JobEditForm';\nconst {\n  Form\n} = ReactFinalForm;\n/**\n * The fields we need for the initialValues for our form fields. Since we use\n * these values to set the initial values in final-form, if we wouldn't filter\n * them we'd end up submitting way more data than we intend to.\n */\n\nconst initialFields = ['cronExpression', 'delay', 'jobParameters', 'jobType', 'name'];\n\nconst JobEditFormContainer = ({\n  setIsPristine\n}) => {\n  const {\n    id\n  } = useParams();\n  const [updateJob] = useUpdateJob({\n    id\n  });\n  const refetchJobs = hooks.useRefetchJobs();\n  const job = hooks.useJob(id); // Creating an object with just the values we want to use as initial values\n\n  const initialValues = initialFields.reduce((filtered, key) => {\n    filtered[key] = job[key];\n    return filtered;\n  }, {});\n  /**\n   * destroyOnUnregister is enabled so that dynamic fields will be unregistered\n   * when they're removed from the form, for instance when the jobType changes.\n   */\n\n  /* istanbul ignore next: we're testing this section, but coverage reporting seems to disagree */\n\n  return React.createElement(Form, {\n    onSubmit: updateJob,\n    component: JobEditForm,\n    setIsPristine: setIsPristine,\n    initialValues: initialValues,\n    id: id,\n    refetchJobs: refetchJobs,\n    destroyOnUnregister: true\n  });\n};\n\nconst {\n  func\n} = PropTypes;\nJobEditFormContainer.propTypes = {\n  setIsPristine: func.isRequired\n};\nexport default JobEditFormContainer;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport moment from 'moment';\nimport { jobStatusMap } from '../../services/server-translations';\nimport styles from './JobDetails.module.css';\n\nconst JobDetails = ({\n  created,\n  lastExecutedStatus,\n  lastExecuted\n}) => {\n  // Using Date.now allows for easier mocking\n  const now = Date.now();\n  const createdFromNow = moment(created).from(now);\n  const translatedStatus = jobStatusMap[lastExecutedStatus];\n  const lastRunFromNow = lastExecuted ? moment(lastExecuted).from(now) : '';\n  return React.createElement(\"div\", {\n    className: styles.wrapper\n  }, React.createElement(\"h4\", {\n    className: styles.title\n  }, i18n.t('Job details')), React.createElement(\"div\", {\n    className: styles.details\n  }, React.createElement(\"div\", null, i18n.t('Created {{ createdFromNow }}.', {\n    createdFromNow\n  })), lastRunFromNow && React.createElement(\"div\", null, i18n.t('Last run {{ lastRunFromNow }}.', {\n    lastRunFromNow\n  })), translatedStatus && React.createElement(\"div\", null, i18n.t('Last run status: {{ translatedStatus }}.', {\n    translatedStatus,\n    nsSeparator: '>'\n  }))));\n};\n\nconst {\n  string\n} = PropTypes;\nJobDetails.propTypes = {\n  created: string.isRequired,\n  lastExecutedStatus: string.isRequired,\n  lastExecuted: string\n};\nexport default JobDetails;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Card, IconInfo16 } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { DiscardFormButton } from '../../components/Buttons';\nimport { JobEditFormContainer } from '../../components/Forms';\nimport { JobDetails } from '../../components/JobDetails';\nimport styles from './JobEdit.module.css';\nconst infoLink = 'https://docs.dhis2.org/en/use/user-guides/dhis-core-version-236/maintaining-the-system/scheduling.html';\n\nconst JobEdit = ({\n  isPristine,\n  setIsPristine,\n  name,\n  created,\n  lastExecutedStatus,\n  lastExecuted\n}) => React.createElement(React.Fragment, null, React.createElement(\"header\", {\n  className: styles.pageHeader\n}, React.createElement(DiscardFormButton, {\n  shouldConfirm: !isPristine,\n  className: styles.pageHeaderButton,\n  small: true\n}, i18n.t('Back to all jobs')), React.createElement(\"h2\", {\n  className: styles.pageHeaderTitle\n}, i18n.t('Job: {{ name }}', {\n  name,\n  nsSeparator: '>'\n}))), React.createElement(Card, {\n  className: styles.card\n}, React.createElement(\"header\", {\n  className: styles.cardHeader\n}, React.createElement(\"h3\", {\n  className: styles.cardHeaderTitle\n}, i18n.t('Configuration')), React.createElement(\"a\", {\n  href: infoLink,\n  className: styles.cardHeaderLink,\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, React.createElement(\"span\", {\n  className: styles.cardHeaderInfo\n}, React.createElement(IconInfo16, null)), i18n.t('About job configuration'))), React.createElement(\"div\", {\n  className: styles.jobDetails\n}, React.createElement(JobDetails, {\n  created: created,\n  lastExecutedStatus: lastExecutedStatus,\n  lastExecuted: lastExecuted\n})), React.createElement(JobEditFormContainer, {\n  setIsPristine: setIsPristine\n})));\n\nconst {\n  bool,\n  func,\n  string\n} = PropTypes;\nJobEdit.propTypes = {\n  created: string.isRequired,\n  isPristine: bool.isRequired,\n  lastExecuted: string.isRequired,\n  lastExecutedStatus: string.isRequired,\n  name: string.isRequired,\n  setIsPristine: func.isRequired\n};\nexport default JobEdit;","import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { hooks } from '../../components/Store';\nimport JobEdit from './JobEdit';\n\nconst JobEditContainer = () => {\n  const [isPristine, setIsPristine] = useState(true);\n  const {\n    id\n  } = useParams();\n  const job = hooks.useJob(id);\n  return React.createElement(JobEdit, {\n    isPristine: isPristine,\n    setIsPristine: setIsPristine,\n    name: job.name,\n    created: job.created,\n    lastExecutedStatus: job.lastExecutedStatus,\n    lastExecuted: job.lastExecuted\n  });\n};\n\nexport default JobEditContainer;","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Card, IconInfo16, Box, SingleSelectField, SingleSelectOption, InputField } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { hooks } from '../../components/Store';\nimport { LinkButton } from '../../components/Temporary';\nimport { JobDetails } from '../../components/JobDetails';\nimport translateCron from '../../services/translate-cron';\nimport { jobTypesMap } from '../../services/server-translations';\nimport styles from './JobView.module.css';\nconst infoLink = 'https://docs.dhis2.org/en/use/user-guides/dhis-core-version-236/maintaining-the-system/scheduling.html';\n\nconst JobView = () => {\n  const {\n    id\n  } = useParams();\n  const {\n    name,\n    created,\n    lastExecutedStatus,\n    lastExecuted,\n    jobType,\n    cronExpression\n  } = hooks.useJob(id);\n  return React.createElement(React.Fragment, null, React.createElement(\"header\", {\n    className: styles.pageHeader\n  }, React.createElement(LinkButton, {\n    className: styles.pageHeaderButton,\n    to: \"/\",\n    small: true\n  }, i18n.t('Back to all jobs')), React.createElement(\"h2\", {\n    className: styles.pageHeaderTitle\n  }, i18n.t('System job: {{ name }}', {\n    name,\n    nsSeparator: '>'\n  }))), React.createElement(Card, {\n    className: styles.card\n  }, React.createElement(\"header\", {\n    className: styles.cardHeader\n  }, React.createElement(\"h3\", {\n    className: styles.cardHeaderTitle\n  }, i18n.t('Configuration')), React.createElement(\"a\", {\n    href: infoLink,\n    className: styles.cardHeaderLink,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, React.createElement(\"span\", {\n    className: styles.cardHeaderInfo\n  }, React.createElement(IconInfo16, null)), i18n.t('About job configuration'))), React.createElement(\"div\", {\n    className: styles.jobDetails\n  }, React.createElement(JobDetails, {\n    created: created,\n    lastExecutedStatus: lastExecutedStatus,\n    lastExecuted: lastExecuted\n  })), React.createElement(Box, {\n    maxWidth: \"600px\"\n  }, React.createElement(InputField, {\n    label: i18n.t('Name'),\n    disabled: true,\n    value: name,\n    name: \"name\"\n  })), React.createElement(Box, {\n    marginTop: \"16px\",\n    maxWidth: \"400px\"\n  }, React.createElement(SingleSelectField, {\n    name: \"jobType\",\n    label: i18n.t('Job type'),\n    disabled: true,\n    selected: jobType\n  }, React.createElement(SingleSelectOption, {\n    value: jobType,\n    label: jobTypesMap[jobType]\n  }))), React.createElement(Box, {\n    marginTop: \"16px\",\n    maxWidth: \"400px\"\n  }, React.createElement(InputField, {\n    label: i18n.t('CRON Expression'),\n    name: \"cronExpression\",\n    disabled: true,\n    value: cronExpression,\n    helpText: translateCron(cronExpression)\n  })), React.createElement(Box, {\n    marginTop: \"24px\"\n  }, React.createElement(LinkButton, {\n    className: styles.pageHeaderButton,\n    to: \"/\"\n  }, i18n.t('Back to all jobs')))));\n};\n\nexport default JobView;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Card, IconInfo16 } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { DiscardFormButton } from '../../components/Buttons';\nimport { JobAddFormContainer } from '../../components/Forms';\nimport styles from './JobAdd.module.css';\nconst infoLink = 'https://docs.dhis2.org/en/use/user-guides/dhis-core-version-236/maintaining-the-system/scheduling.html';\n\nconst JobAdd = ({\n  isPristine,\n  setIsPristine\n}) => React.createElement(React.Fragment, null, React.createElement(\"header\", {\n  className: styles.pageHeader\n}, React.createElement(DiscardFormButton, {\n  shouldConfirm: !isPristine,\n  className: styles.pageHeaderButton,\n  small: true\n}, i18n.t('Back to all jobs')), React.createElement(\"h2\", {\n  className: styles.pageHeaderTitle\n}, i18n.t('New Job'))), React.createElement(Card, {\n  className: styles.card\n}, React.createElement(\"header\", {\n  className: styles.cardHeader\n}, React.createElement(\"h3\", {\n  className: styles.cardHeaderTitle\n}, i18n.t('Configuration')), React.createElement(\"a\", {\n  href: infoLink,\n  className: styles.cardHeaderLink,\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, React.createElement(\"span\", {\n  className: styles.cardHeaderInfo\n}, React.createElement(IconInfo16, null)), i18n.t('About job configuration'))), React.createElement(JobAddFormContainer, {\n  setIsPristine: setIsPristine\n})));\n\nconst {\n  bool,\n  func\n} = PropTypes;\nJobAdd.propTypes = {\n  isPristine: bool.isRequired,\n  setIsPristine: func.isRequired\n};\nexport default JobAdd;","import React, { useState } from 'react';\nimport JobAdd from './JobAdd';\n\nconst JobAddContainer = () => {\n  const [isPristine, setIsPristine] = useState(true);\n  return React.createElement(JobAdd, {\n    isPristine: isPristine,\n    setIsPristine: setIsPristine\n  });\n};\n\nexport default JobAddContainer;","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport { Router } from 'react-router';\nimport { JobListContainer } from '../../pages/JobList';\nimport { JobEditContainer } from '../../pages/JobEdit';\nimport { JobView } from '../../pages/JobView';\nimport { JobAddContainer } from '../../pages/JobAdd';\nimport history from '../../services/history';\n\nconst Routes = () => React.createElement(Router, {\n  history: history\n}, React.createElement(Route, {\n  exact: true,\n  path: \"/\",\n  component: JobListContainer\n}), React.createElement(Route, {\n  path: \"/edit/:id\",\n  component: JobEditContainer\n}), React.createElement(Route, {\n  path: \"/view/:id\",\n  component: JobView\n}), React.createElement(Route, {\n  path: \"/add\",\n  component: JobAddContainer\n}));\n\nexport default Routes;","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { CircularLoader, Layer, CenteredContent, NoticeBox } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { useDataQuery } from '@dhis2/app-runtime';\nimport { getAuthorized } from './selectors';\nimport styles from './AuthWall.module.css';\nconst query = {\n  me: {\n    resource: 'me'\n  }\n};\n\nconst AuthWall = ({\n  children\n}) => {\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n\n  if (loading) {\n    return React.createElement(Layer, null, React.createElement(CenteredContent, null, React.createElement(CircularLoader, null)));\n  }\n\n  if (error) {\n    /**\n     * The app can't continue if this fails, because it doesn't\n     * know if the user is authorized, so throw the error.\n     */\n    throw error;\n  }\n\n  const isAuthorized = getAuthorized(data.me);\n\n  if (!isAuthorized) {\n    return React.createElement(\"div\", {\n      className: styles.noticeBoxWrapper\n    }, React.createElement(NoticeBox, {\n      error: true,\n      title: i18n.t('Not authorized')\n    }, i18n.t(\"You don't have access to the Job Scheduler. Contact a system administrator to request access.\")));\n  }\n\n  return React.createElement(React.Fragment, null, children);\n};\n\nconst {\n  node\n} = PropTypes;\nAuthWall.propTypes = {\n  children: node.isRequired\n};\nexport default AuthWall;","export const getAuthorized = me => {\n  const {\n    authorities\n  } = me;\n\n  if (!authorities) {\n    return false;\n  }\n\n  const isAuthorized = authorities.includes('ALL') || authorities.includes('F_SCHEDULING_ADMIN');\n  return isAuthorized;\n};","import React from 'react';\nimport { PropTypes } from '@dhis2/prop-types';\nimport styles from './PageWrapper.module.css';\n\nconst PageWrapper = ({\n  children\n}) => React.createElement(\"div\", {\n  className: styles.wrapper\n}, children);\n\nconst {\n  node\n} = PropTypes;\nPageWrapper.propTypes = {\n  children: node.isRequired\n};\nexport default PageWrapper;","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import React from 'react';\nimport { CssVariables } from '@dhis2/ui';\nimport { Routes } from '../Routes';\nimport { AuthWall } from '../AuthWall';\nimport { Store } from '../Store';\nimport { PageWrapper } from '../PageWrapper';\nimport './App.css'; // eslint-disable-next-line import/no-unassigned-import\n\nimport '../../locales'; // The above is necessary for translations to work\n\nconst App = () => React.createElement(React.Fragment, null, React.createElement(CssVariables, {\n  spacers: true,\n  colors: true,\n  theme: true\n}), React.createElement(PageWrapper, null, React.createElement(AuthWall, null, React.createElement(Store, null, React.createElement(Routes, null)))));\n\nexport default App;"],"sourceRoot":""}